{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Desktop/new/project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useMemo}from'react';import{Link}from'react-router-dom';import{Helmet}from'react-helmet';import LazyLoad from'react-lazyload';import{getCategory,getNotices}from'../api/api';import'../styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _quickViewMovie$cast,_quickViewMovie$genre;const[categories]=useState([{id:'trending',name:'Trending'},{id:'action',name:'Action'},{id:'comedy',name:'Comedy'},{id:'drama',name:'Drama'},{id:'bollywood',name:'Bollywood'},{id:'hollywood',name:'Hollywood'},{id:'tamil',name:'Tamil'},{id:'telugu',name:'Telugu'},{id:'webseries',name:'Web Series'},{id:'tvshows',name:'TV Shows'},{id:'topimdb',name:'Top IMDb'},{id:'classics',name:'Classics'}]);const[moviesByCategory,setMoviesByCategory]=useState({});const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[searchSuggestions,setSearchSuggestions]=useState([]);const[error,setError]=useState(null);const[showBannerAd,setShowBannerAd]=useState(true);const[showInterstitialAd,setShowInterstitialAd]=useState(true);const[loading,setLoading]=useState(true);const[watchlist,setWatchlist]=useState(JSON.parse(localStorage.getItem('watchlist'))||[]);const[activeCategory,setActiveCategory]=useState(null);const[selectedTrailer,setSelectedTrailer]=useState(null);const[notices,setNotices]=useState([]);const[featuredMovie,setFeaturedMovie]=useState(null);const[showSearch,setShowSearch]=useState(false);const[quickViewMovie,setQuickViewMovie]=useState(null);const[reactionCounts,setReactionCounts]=useState({});const[userReactions,setUserReactions]=useState(JSON.parse(localStorage.getItem('userReactions'))||{});// Generate or retrieve a temporary user ID\nconst userId=localStorage.getItem('tempUserId')||(()=>{const id='user_'+Math.random().toString(36).substr(2,9);localStorage.setItem('tempUserId',id);return id;})();const handleReaction=async(externalId,reactionType)=>{try{// Check if user has already reacted\nif(userReactions[\"\".concat(externalId)]){console.log(\"User \".concat(userId,\" has already reacted to \").concat(externalId));return;}const response=await fetch(\"/api/movies/reactions/tmdb/\".concat(externalId),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({reaction:reactionType,userId})});if(!response.ok){const errorData=await response.json();console.error('Reaction error:',errorData.msg);return;}const data=await response.json();setReactionCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[externalId]:_objectSpread(_objectSpread({},prev[externalId]||{}),data.reactionCounts)}));// Update local user reactions\nconst newUserReactions=_objectSpread(_objectSpread({},userReactions),{},{[\"\".concat(externalId)]:reactionType});setUserReactions(newUserReactions);localStorage.setItem('userReactions',JSON.stringify(newUserReactions));console.log(\"Reaction \".concat(reactionType,\" recorded for \").concat(externalId,\" by user \").concat(userId));}catch(error){console.error('Reaction error:',error);}};const trackClick=(action,movieId,movieTitle)=>{console.log('Tracking click:',{action,movieId,movieTitle});const analytics=JSON.parse(localStorage.getItem('analytics'))||[];analytics.push({action,movieId,movieTitle,timestamp:new Date().toISOString()});localStorage.setItem('analytics',JSON.stringify(analytics));};const scrollToCategory=categoryId=>{setActiveCategory(categoryId);if(categoryId==='webseries'){setMoviesByCategory(prev=>{const updated=_objectSpread({},prev);const webSeriesData=updated['webseries']||[];delete updated['webseries'];return _objectSpread({webseries:webSeriesData},updated);});}const element=document.getElementById(categoryId);if(element){element.scrollIntoView({behavior:'smooth',block:'start'});trackClick('navigate_category',categoryId,categoryId);}};useEffect(()=>{const fetchData=async()=>{setLoading(true);const newMoviesByCategory={};let hasError=false;const fetchWithTimeout=async function(fn){const timeout=new Promise((_,reject)=>setTimeout(()=>reject(new Error('Request timed out')),5000));for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return Promise.race([fn(...args),timeout]);};try{const noticesResponse=await fetchWithTimeout(getNotices);setNotices(Array.isArray(noticesResponse.data)?noticesResponse.data:[]);console.log('Notices Response:',noticesResponse);}catch(err){console.error('Error fetching notices:',err);setNotices([]);}for(const category of categories){try{const response=await fetchWithTimeout(getCategory,category.id);console.log(\"Category \".concat(category.id,\" Response:\"),response);const movies=Array.isArray(response.data)?response.data:[];newMoviesByCategory[category.id]=movies.filter(movie=>movie.source&&movie.externalId&&movie.externalId!=='undefined'&&typeof movie.source==='string'&&typeof movie.externalId==='string');}catch(err){console.error(\"Error fetching category \".concat(category.id,\":\"),err);newMoviesByCategory[category.id]=[];hasError=true;setError(prev=>prev?\"\".concat(prev,\" Error loading \").concat(category.name,\": Failed to load.\"):\"Error loading \".concat(category.name,\": Failed to load.\"));}await new Promise(resolve=>setTimeout(resolve,1000));}setMoviesByCategory(newMoviesByCategory);if(!hasError&&!error)setError(null);if(newMoviesByCategory['trending']&&newMoviesByCategory['trending'].length>0){const trendingMovies=newMoviesByCategory['trending'];setFeaturedMovie(trendingMovies[Math.floor(Math.random()*trendingMovies.length)]);}setLoading(false);const counts={};for(const category of categories){const movies=newMoviesByCategory[category.id]||[];for(const movie of movies){try{const res=await fetch(\"/api/movies/details/\".concat(movie.source,\"/\").concat(movie.externalId));if(res.ok){counts[movie.externalId]=(await res.json()).reactionCounts||{};}else{console.warn(\"Failed to fetch details for \".concat(movie.source,\"/\").concat(movie.externalId,\": \").concat(res.status));counts[movie.externalId]={excellent:0,good:0,average:0,sad:0};}}catch(err){console.error(\"Error fetching details for \".concat(movie.source,\"/\").concat(movie.externalId,\":\"),err);counts[movie.externalId]={excellent:0,good:0,average:0,sad:0};}}}setReactionCounts(counts);};fetchData();},[categories,error]);const handleSearchChange=e=>{const query=e.target.value;setSearchQuery(query);if(query.trim()){const results=Object.values(moviesByCategory).flat().filter(movie=>movie.title.toLowerCase().includes(query.toLowerCase())).slice(0,20);setSearchSuggestions(results.slice(0,5));setSearchResults(results);// Scroll to search results immediately\nconst searchResultsElement=document.getElementById('search-results');if(searchResultsElement){searchResultsElement.scrollIntoView({behavior:'smooth',block:'start'});}}else{setSearchSuggestions([]);setSearchResults([]);}};const handleAddToWatchlist=movie=>{if(!movie.source||!movie.externalId||movie.externalId==='undefined'){console.warn('Cannot add movie to watchlist, invalid data:',movie);return;}const newWatchlist=[...watchlist,_objectSpread(_objectSpread({},movie),{},{source:movie.source,externalId:movie.externalId})];setWatchlist(newWatchlist);localStorage.setItem('watchlist',JSON.stringify(newWatchlist));trackClick('add_to_watchlist',movie.externalId,movie.title);};const handleRemoveFromWatchlist=(externalId,source)=>{const newWatchlist=watchlist.filter(m=>!(m.externalId===externalId&&m.source===source));setWatchlist(newWatchlist);localStorage.setItem('watchlist',JSON.stringify(newWatchlist));trackClick('remove_from_watchlist',externalId,'unknown');};const handleImageError=(e,title)=>{console.log(\"Image failed to load for \".concat(title,\": \").concat(e.target.src));e.target.src='https://placehold.co/200x300?text=No+Poster';};const openTrailerModal=trailerUrl=>{if(trailerUrl&&trailerUrl!=='N/A'){setSelectedTrailer(trailerUrl);trackClick('play_trailer','trailer',trailerUrl);}};const closeTrailerModal=()=>{setSelectedTrailer(null);};const openQuickView=movie=>{setQuickViewMovie(movie);};const closeQuickView=()=>{setQuickViewMovie(null);};const getRecommendations=()=>{var _moviesByCategory$tre,_moviesByCategory$tre2;const genres=watchlist.flatMap(movie=>movie.genre_ids||[]);const topGenre=genres.sort((a,b)=>genres.filter(v=>v===a).length-genres.filter(v=>v===b).length)[0];return((_moviesByCategory$tre=moviesByCategory['trending'])===null||_moviesByCategory$tre===void 0?void 0:(_moviesByCategory$tre2=_moviesByCategory$tre.filter(movie=>{var _movie$genre_ids;return(_movie$genre_ids=movie.genre_ids)===null||_movie$genre_ids===void 0?void 0:_movie$genre_ids.includes(topGenre);}))===null||_moviesByCategory$tre2===void 0?void 0:_moviesByCategory$tre2.slice(0,5))||[];};const recommendations=getRecommendations();const memoizedCategories=useMemo(()=>{if(activeCategory==='webseries'||searchQuery.toLowerCase().includes('web series')){return[categories.find(c=>c.id==='webseries'),...categories.filter(c=>c.id!=='webseries')];}return categories;},[activeCategory,searchQuery,categories]);const renderMovieCard=(movie,categoryId,index)=>{var _movie$watchProviders,_movie$watchProviders2,_movie$watchProviders3;let genresString='N/A';if(movie.genres){if(Array.isArray(movie.genres)){genresString=movie.genres.map(genre=>typeof genre==='object'&&genre.name?genre.name:genre).join(', ');}else if(typeof movie.genres==='string'){genresString=movie.genres;}}return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-poster\",onClick:()=>openTrailerModal(movie.trailer),role:\"button\",tabIndex:0,onKeyPress:e=>e.key==='Enter'&&openTrailerModal(movie.trailer),\"aria-label\":\"Play trailer for \".concat(movie.title),children:[/*#__PURE__*/_jsx(LazyLoad,{height:300,children:/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:movie.title,onError:e=>handleImageError(e,movie.title)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-overlay\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"IMDb Rating: \",movie.imdbRating||'N/A']}),/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(movie.source,\"/\").concat(movie.externalId),onClick:()=>trackClick('view_details',movie.externalId,movie.title),children:/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",\"aria-label\":\"View details for \".concat(movie.title),children:\"View Details\"})}),((_movie$watchProviders=movie.watchProviders)===null||_movie$watchProviders===void 0?void 0:(_movie$watchProviders2=_movie$watchProviders.US)===null||_movie$watchProviders2===void 0?void 0:(_movie$watchProviders3=_movie$watchProviders2.ads)===null||_movie$watchProviders3===void 0?void 0:_movie$watchProviders3.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"watch-free\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Watch for Free on:\"}),/*#__PURE__*/_jsx(\"ul\",{children:movie.watchProviders.US.ads.map((provider,index)=>/*#__PURE__*/_jsx(\"li\",{children:provider.provider_name},index))})]}),movie.directLink&&/*#__PURE__*/_jsx(\"a\",{href:movie.directLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"watch-now\",\"aria-label\":\"Watch \".concat(movie.title,\" on Internet Archive\"),children:\"Watch Now\"}),watchlist.some(m=>m.externalId===movie.externalId&&m.source===movie.source)?/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:e=>{e.stopPropagation();handleRemoveFromWatchlist(movie.externalId,movie.source);},\"aria-label\":\"Remove \".concat(movie.title,\" from watchlist\"),children:\"Remove from Watchlist\"}):/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:e=>{e.stopPropagation();handleAddToWatchlist(movie);},\"aria-label\":\"Add \".concat(movie.title,\" to watchlist\"),children:\"Add to Watchlist\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reaction-buttons\",style:{display:'flex',gap:'5px',marginTop:'10px',flexWrap:'wrap',justifyContent:'center'},children:['excellent','good','average','sad'].map(reaction=>{var _reactionCounts$movie;return/*#__PURE__*/_jsxs(\"button\",{className:\"cta-button\",onClick:e=>{e.stopPropagation();handleReaction(movie.externalId,reaction);},disabled:!!userReactions[\"\".concat(movie.externalId)],\"aria-label\":\"React with \".concat(reaction,\" to \").concat(movie.title),style:{fontSize:'12px',padding:'5px 8px',opacity:userReactions[\"\".concat(movie.externalId)]?0.6:1},title:userReactions[\"\".concat(movie.externalId)]?\"You reacted: \".concat(userReactions[\"\".concat(movie.externalId)]):'',children:[{excellent:'Excellent 👍',good:'Good 😊',average:'Average 😐',sad:'Sad 😢'}[reaction],\" (\",((_reactionCounts$movie=reactionCounts[movie.externalId])===null||_reactionCounts$movie===void 0?void 0:_reactionCounts$movie[reaction])||0,\")\"]},reaction);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 5px 0'},children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#666',fontSize:'14px',marginRight:'5px'},children:movie.releaseYear||'N/A'}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#666',fontSize:'12px',marginRight:'5px'},children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#666',fontSize:'14px'},children:genresString})]}),/*#__PURE__*/_jsx(\"button\",{className:\"quick-view-btn\",onClick:()=>openQuickView(movie),style:{color:'#1a73e8',background:'none',border:'none',cursor:'pointer',fontSize:'14px'},\"aria-label\":\"Quick view for \".concat(movie.title),children:\"Quick View\"})]})]},\"\".concat(categoryId,\"-\").concat(movie.source,\"-\").concat(movie.externalId,\"-\").concat(index));};return/*#__PURE__*/_jsxs(\"div\",{className:\"home fade-in\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"MovieVerse - Stream Movies & Web Series\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Watch Hollywood, Bollywood, Web Series, and more on MovieVerse!\"})]}),selectedTrailer&&/*#__PURE__*/_jsx(\"div\",{className:\"trailer-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"trailer-modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"trailer-modal-close\",onClick:closeTrailerModal,\"aria-label\":\"Close trailer modal\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"100%\",src:selectedTrailer.replace('watch?v=','embed/'),title:\"Movie Trailer\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})]})}),quickViewMovie&&/*#__PURE__*/_jsxs(\"div\",{className:\"quick-view-modal\",style:{position:'fixed',backgroundColor:'black',color:'white',top:'50%',left:'50%',transform:'translate(-50%, -50%)',background:'black',padding:'20px',borderRadius:'8px',boxShadow:'0 2px 10px rgba(0,0,0,0.3)',zIndex:1000,maxWidth:'500px',width:'90%'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeQuickView,style:{float:'right',background:'none',color:'red',border:'none',fontSize:'20px',cursor:'pointer'},\"aria-label\":\"Close quick view\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:quickViewMovie.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Overview:\"}),\" \",quickViewMovie.overview||'No overview available.']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cast:\"}),\" \",((_quickViewMovie$cast=quickViewMovie.cast)===null||_quickViewMovie$cast===void 0?void 0:_quickViewMovie$cast.join(', '))||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Budget:\"}),\" \",quickViewMovie.budget?\"$\".concat(quickViewMovie.budget.toLocaleString()):'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Release Date:\"}),\" \",quickViewMovie.release_date||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genres:\"}),\" \",((_quickViewMovie$genre=quickViewMovie.genres)===null||_quickViewMovie$genre===void 0?void 0:_quickViewMovie$genre.join(', '))||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"IMDb Rating:\"}),\" \",quickViewMovie.imdbRating||'N/A']})]}),/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"logo\",onClick:()=>{window.scrollTo({top:0,behavior:'smooth'});setActiveCategory(null);},\"aria-label\":\"Go to top of page\",children:\"MovieVerse 2.0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[categories.map(category=>/*#__PURE__*/_jsx(\"span\",{className:\"nav-link \".concat(activeCategory===category.id?'active':''),onClick:()=>scrollToCategory(category.id),role:\"button\",tabIndex:0,onKeyPress:e=>e.key==='Enter'&&scrollToCategory(category.id),\"aria-label\":\"Navigate to \".concat(category.name,\" category\"),children:category.name},category.id)),/*#__PURE__*/_jsx(\"span\",{className:\"nav-link \".concat(activeCategory==='watchlist'?'active':''),onClick:()=>scrollToCategory('watchlist'),role:\"button\",tabIndex:0,onKeyPress:e=>e.key==='Enter'&&scrollToCategory('watchlist'),\"aria-label\":\"Navigate to My Watchlist\",children:\"My Watchlist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"search-icon\",onClick:()=>setShowSearch(!showSearch),\"aria-label\":\"Toggle search bar\",children:\"\\uD83D\\uDD0D\"}),showSearch&&/*#__PURE__*/_jsx(\"div\",{className:\"search-bar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleSearchChange,placeholder:\"Search movies, web series...\",\"aria-label\":\"Search for movies or web series\",autoFocus:true}),searchSuggestions.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"search-suggestions\",children:searchSuggestions.map(movie=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>{setSearchQuery(movie.title);setSearchResults([movie]);setShowSearch(false);const searchResultsElement=document.getElementById('search-results');if(searchResultsElement){searchResultsElement.scrollIntoView({behavior:'smooth',block:'start'});}},role:\"option\",tabIndex:0,onKeyPress:e=>{if(e.key==='Enter'){setSearchQuery(movie.title);setSearchResults([movie]);setShowSearch(false);const searchResultsElement=document.getElementById('search-results');if(searchResultsElement){searchResultsElement.scrollIntoView({behavior:'smooth',block:'start'});}}},\"aria-label\":\"Select \".concat(movie.title),\"aria-selected\":false,children:movie.title},\"\".concat(movie.source,\"-\").concat(movie.externalId)))})]})})]})]})]}),notices.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"notices-ticker\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ticker-content\",children:notices.map((notice,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"ticker-item\",children:notice.text||notice.message},index))})}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"loading\",children:\"Loading content...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),featuredMovie&&!loading&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-section\",style:{position:'relative',height:'60vh',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"img\",{src:featuredMovie.poster||'https://placehold.co/3840x2160?text=4K+Poster',alt:featuredMovie.title,style:{position:'absolute',top:'50%',left:'50%',minWidth:'100%',minHeight:'100%',width:'auto',height:'auto',transform:'translate(-50%, -50%)',zIndex:1,objectFit:'cover'},onError:e=>{e.target.src='https://placehold.co/3840x2160?text=4K+Poster';}}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-overlay\",style:{position:'relative',zIndex:2,color:'#fff',textAlign:'center',paddingTop:'20vh',background:'rgba(0, 0, 0, 0.5)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'2.5em',marginBottom:'10px'},children:featuredMovie.title}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.2em',marginBottom:'20px'},children:featuredMovie.imdbRating||'N/A'}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-buttons\",children:[featuredMovie.trailer&&featuredMovie.trailer!=='N/A'&&/*#__PURE__*/_jsx(\"button\",{className:\"cta-button hero-button play-trailer\",onClick:()=>openTrailerModal(featuredMovie.trailer),\"aria-label\":\"Play trailer for \".concat(featuredMovie.title),children:\"Play Trailer\"}),/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(featuredMovie.source,\"/\").concat(featuredMovie.externalId),onClick:()=>trackClick('view_details',featuredMovie.externalId,featuredMovie.title),children:/*#__PURE__*/_jsx(\"button\",{className:\"cta-button hero-button\",\"aria-label\":\"View details for \".concat(featuredMovie.title),children:\"View Details\"})}),watchlist.some(m=>m.externalId===featuredMovie.externalId&&m.source===featuredMovie.source)?/*#__PURE__*/_jsx(\"button\",{className:\"cta-button hero-button\",onClick:()=>handleRemoveFromWatchlist(featuredMovie.externalId,featuredMovie.source),\"aria-label\":\"Remove \".concat(featuredMovie.title,\" from watchlist\"),children:\"Remove from Watchlist\"}):/*#__PURE__*/_jsx(\"button\",{className:\"cta-button hero-button\",onClick:()=>handleAddToWatchlist(featuredMovie),\"aria-label\":\"Add \".concat(featuredMovie.title,\" to watchlist\"),children:\"Add to Watchlist\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reaction-buttons\",style:{display:'flex',gap:'5px',marginTop:'10px',justifyContent:'center'},children:['excellent','good','average','sad'].map(reaction=>{var _reactionCounts$featu;return/*#__PURE__*/_jsxs(\"button\",{className:\"cta-button\",onClick:()=>handleReaction(featuredMovie.externalId,reaction),disabled:!!userReactions[\"\".concat(featuredMovie.externalId)],\"aria-label\":\"React with \".concat(reaction,\" to \").concat(featuredMovie.title),style:{fontSize:'12px',padding:'5px 8px',opacity:userReactions[\"\".concat(featuredMovie.externalId)]?0.6:1},title:userReactions[\"\".concat(featuredMovie.externalId)]?\"You reacted: \".concat(userReactions[\"\".concat(featuredMovie.externalId)]):'',children:[{excellent:'Excellent 👍',good:'Good 😊',average:'Average 😐',sad:'Sad 😢'}[reaction],\" (\",((_reactionCounts$featu=reactionCounts[featuredMovie.externalId])===null||_reactionCounts$featu===void 0?void 0:_reactionCounts$featu[reaction])||0,\")\"]},reaction);})})]})]})})]}),showBannerAd&&/*#__PURE__*/_jsxs(\"div\",{className:\"ad-placeholder banner-ad\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/728x90?text=Banner+Ad\",alt:\"Banner Ad\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBannerAd(false),\"aria-label\":\"Close banner ad\",children:\"Close Ad\"})]}),showInterstitialAd&&/*#__PURE__*/_jsxs(\"div\",{className:\"ad-placeholder interstitial-ad\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/728x90?text=Interstitial+Ad\",alt:\"Interstitial Ad\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowInterstitialAd(false),\"aria-label\":\"Close interstitial ad\",children:\"Close Ad\"})]}),watchlist.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",id:\"watchlist\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Watchlist\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-grid horizontal-scroll\",children:watchlist.filter(movie=>movie.source&&movie.externalId).map((movie,index)=>renderMovieCard(movie,'watchlist',index))})]}),recommendations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",id:\"recommendations\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recommended for You\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-grid horizontal-scroll\",children:recommendations.filter(movie=>movie.source&&movie.externalId).map((movie,index)=>renderMovieCard(movie,'recommendations',index))})]}),searchResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-results\",id:\"search-results\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search Results\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-grid horizontal-scroll\",children:searchResults.filter(movie=>movie.source&&movie.externalId).map((movie,index)=>renderMovieCard(movie,'search-results',index))})]}),memoizedCategories.map(category=>{var _moviesByCategory$cat;return/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",id:category.id,children:[/*#__PURE__*/_jsx(\"h2\",{children:category.name}),((_moviesByCategory$cat=moviesByCategory[category.id])===null||_moviesByCategory$cat===void 0?void 0:_moviesByCategory$cat.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"movie-grid horizontal-scroll\",children:moviesByCategory[category.id].filter(movie=>movie.source&&movie.externalId&&typeof movie.source==='string'&&typeof movie.externalId==='string').map((movie,index)=>{console.log('Rendering movie:',{title:movie.title,source:movie.source,externalId:movie.externalId});return renderMovieCard(movie,category.id,index);})}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No movies available in \",category.name,\".\"]})]},category.id);})]});}export default Home;","map":{"version":3,"names":["useState","useEffect","useMemo","Link","Helmet","LazyLoad","getCategory","getNotices","jsx","_jsx","jsxs","_jsxs","Home","_quickViewMovie$cast","_quickViewMovie$genre","categories","id","name","moviesByCategory","setMoviesByCategory","searchQuery","setSearchQuery","searchResults","setSearchResults","searchSuggestions","setSearchSuggestions","error","setError","showBannerAd","setShowBannerAd","showInterstitialAd","setShowInterstitialAd","loading","setLoading","watchlist","setWatchlist","JSON","parse","localStorage","getItem","activeCategory","setActiveCategory","selectedTrailer","setSelectedTrailer","notices","setNotices","featuredMovie","setFeaturedMovie","showSearch","setShowSearch","quickViewMovie","setQuickViewMovie","reactionCounts","setReactionCounts","userReactions","setUserReactions","userId","Math","random","toString","substr","setItem","handleReaction","externalId","reactionType","concat","console","log","response","fetch","method","headers","body","stringify","reaction","ok","errorData","json","msg","data","prev","_objectSpread","newUserReactions","trackClick","action","movieId","movieTitle","analytics","push","timestamp","Date","toISOString","scrollToCategory","categoryId","updated","webSeriesData","webseries","element","document","getElementById","scrollIntoView","behavior","block","fetchData","newMoviesByCategory","hasError","fetchWithTimeout","fn","timeout","Promise","_","reject","setTimeout","Error","_len","arguments","length","args","Array","_key","race","noticesResponse","isArray","err","category","movies","filter","movie","source","resolve","trendingMovies","floor","counts","res","warn","status","excellent","good","average","sad","handleSearchChange","e","query","target","value","trim","results","Object","values","flat","title","toLowerCase","includes","slice","searchResultsElement","handleAddToWatchlist","newWatchlist","handleRemoveFromWatchlist","m","handleImageError","src","openTrailerModal","trailerUrl","closeTrailerModal","openQuickView","closeQuickView","getRecommendations","_moviesByCategory$tre","_moviesByCategory$tre2","genres","flatMap","genre_ids","topGenre","sort","a","b","v","_movie$genre_ids","recommendations","memoizedCategories","find","c","renderMovieCard","index","_movie$watchProviders","_movie$watchProviders2","_movie$watchProviders3","genresString","map","genre","join","className","children","onClick","trailer","role","tabIndex","onKeyPress","key","height","poster","alt","onError","imdbRating","to","watchProviders","US","ads","provider","provider_name","directLink","href","rel","some","stopPropagation","style","display","gap","marginTop","flexWrap","justifyContent","_reactionCounts$movie","disabled","fontSize","padding","opacity","margin","alignItems","marginBottom","color","marginRight","releaseYear","background","border","cursor","content","width","replace","frameBorder","allow","allowFullScreen","position","backgroundColor","top","left","transform","borderRadius","boxShadow","zIndex","maxWidth","float","overview","cast","budget","toLocaleString","release_date","window","scrollTo","type","onChange","placeholder","autoFocus","notice","text","message","overflow","minWidth","minHeight","objectFit","textAlign","paddingTop","_reactionCounts$featu","_moviesByCategory$cat"],"sources":["C:/Users/hp/Desktop/new/project/frontend/src/components/Home.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet';\r\nimport LazyLoad from 'react-lazyload';\r\nimport { getCategory, getNotices } from '../api/api';\r\nimport '../styles.css';\r\n\r\nfunction Home() {\r\n  const [categories] = useState([\r\n    { id: 'trending', name: 'Trending' },\r\n    { id: 'action', name: 'Action' },\r\n    { id: 'comedy', name: 'Comedy' },\r\n    { id: 'drama', name: 'Drama' },\r\n    { id: 'bollywood', name: 'Bollywood' },\r\n    { id: 'hollywood', name: 'Hollywood' },\r\n    { id: 'tamil', name: 'Tamil' },\r\n    { id: 'telugu', name: 'Telugu' },\r\n    { id: 'webseries', name: 'Web Series' },\r\n    { id: 'tvshows', name: 'TV Shows' },\r\n    { id: 'topimdb', name: 'Top IMDb' },\r\n    { id: 'classics', name: 'Classics' },\r\n  ]);\r\n  const [moviesByCategory, setMoviesByCategory] = useState({});\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchSuggestions, setSearchSuggestions] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [showBannerAd, setShowBannerAd] = useState(true);\r\n  const [showInterstitialAd, setShowInterstitialAd] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const [watchlist, setWatchlist] = useState(JSON.parse(localStorage.getItem('watchlist')) || []);\r\n  const [activeCategory, setActiveCategory] = useState(null);\r\n  const [selectedTrailer, setSelectedTrailer] = useState(null);\r\n  const [notices, setNotices] = useState([]);\r\n  const [featuredMovie, setFeaturedMovie] = useState(null);\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [quickViewMovie, setQuickViewMovie] = useState(null);\r\n  const [reactionCounts, setReactionCounts] = useState({});\r\n  const [userReactions, setUserReactions] = useState(JSON.parse(localStorage.getItem('userReactions')) || {});\r\n\r\n  // Generate or retrieve a temporary user ID\r\n  const userId = localStorage.getItem('tempUserId') || (() => {\r\n    const id = 'user_' + Math.random().toString(36).substr(2, 9);\r\n    localStorage.setItem('tempUserId', id);\r\n    return id;\r\n  })();\r\n\r\n  const handleReaction = async (externalId, reactionType) => {\r\n    try {\r\n      // Check if user has already reacted\r\n      if (userReactions[`${externalId}`]) {\r\n        console.log(`User ${userId} has already reacted to ${externalId}`);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`/api/movies/reactions/tmdb/${externalId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ reaction: reactionType, userId }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        console.error('Reaction error:', errorData.msg);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      setReactionCounts(prev => ({\r\n        ...prev,\r\n        [externalId]: {\r\n          ...(prev[externalId] || {}),\r\n          ...data.reactionCounts,\r\n        },\r\n      }));\r\n\r\n      // Update local user reactions\r\n      const newUserReactions = {\r\n        ...userReactions,\r\n        [`${externalId}`]: reactionType,\r\n      };\r\n      setUserReactions(newUserReactions);\r\n      localStorage.setItem('userReactions', JSON.stringify(newUserReactions));\r\n\r\n      console.log(`Reaction ${reactionType} recorded for ${externalId} by user ${userId}`);\r\n    } catch (error) {\r\n      console.error('Reaction error:', error);\r\n    }\r\n  };\r\n\r\n  const trackClick = (action, movieId, movieTitle) => {\r\n    console.log('Tracking click:', { action, movieId, movieTitle });\r\n    const analytics = JSON.parse(localStorage.getItem('analytics')) || [];\r\n    analytics.push({ action, movieId, movieTitle, timestamp: new Date().toISOString() });\r\n    localStorage.setItem('analytics', JSON.stringify(analytics));\r\n  };\r\n\r\n  const scrollToCategory = (categoryId) => {\r\n    setActiveCategory(categoryId);\r\n    if (categoryId === 'webseries') {\r\n      setMoviesByCategory((prev) => {\r\n        const updated = { ...prev };\r\n        const webSeriesData = updated['webseries'] || [];\r\n        delete updated['webseries'];\r\n        return { webseries: webSeriesData, ...updated };\r\n      });\r\n    }\r\n    const element = document.getElementById(categoryId);\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      trackClick('navigate_category', categoryId, categoryId);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      const newMoviesByCategory = {};\r\n      let hasError = false;\r\n\r\n      const fetchWithTimeout = async (fn, ...args) => {\r\n        const timeout = new Promise((_, reject) =>\r\n          setTimeout(() => reject(new Error('Request timed out')), 5000)\r\n        );\r\n        return Promise.race([fn(...args), timeout]);\r\n      };\r\n\r\n      try {\r\n        const noticesResponse = await fetchWithTimeout(getNotices);\r\n        setNotices(Array.isArray(noticesResponse.data) ? noticesResponse.data : []);\r\n        console.log('Notices Response:', noticesResponse);\r\n      } catch (err) {\r\n        console.error('Error fetching notices:', err);\r\n        setNotices([]);\r\n      }\r\n\r\n      for (const category of categories) {\r\n        try {\r\n          const response = await fetchWithTimeout(getCategory, category.id);\r\n          console.log(`Category ${category.id} Response:`, response);\r\n          const movies = Array.isArray(response.data) ? response.data : [];\r\n          newMoviesByCategory[category.id] = movies.filter(\r\n            (movie) =>\r\n              movie.source &&\r\n              movie.externalId &&\r\n              movie.externalId !== 'undefined' &&\r\n              typeof movie.source === 'string' &&\r\n              typeof movie.externalId === 'string'\r\n          );\r\n        } catch (err) {\r\n          console.error(`Error fetching category ${category.id}:`, err);\r\n          newMoviesByCategory[category.id] = [];\r\n          hasError = true;\r\n          setError((prev) =>\r\n            prev\r\n              ? `${prev} Error loading ${category.name}: Failed to load.`\r\n              : `Error loading ${category.name}: Failed to load.`\r\n          );\r\n        }\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      }\r\n\r\n      setMoviesByCategory(newMoviesByCategory);\r\n      if (!hasError && !error) setError(null);\r\n\r\n      if (newMoviesByCategory['trending'] && newMoviesByCategory['trending'].length > 0) {\r\n        const trendingMovies = newMoviesByCategory['trending'];\r\n        setFeaturedMovie(trendingMovies[Math.floor(Math.random() * trendingMovies.length)]);\r\n      }\r\n\r\n      setLoading(false);\r\n      const counts = {};\r\n      for (const category of categories) {\r\n        const movies = newMoviesByCategory[category.id] || [];\r\n        for (const movie of movies) {\r\n          try {\r\n            const res = await fetch(`/api/movies/details/${movie.source}/${movie.externalId}`);\r\n            if (res.ok) {\r\n              counts[movie.externalId] = (await res.json()).reactionCounts || {};\r\n            } else {\r\n              console.warn(`Failed to fetch details for ${movie.source}/${movie.externalId}: ${res.status}`);\r\n              counts[movie.externalId] = { excellent: 0, good: 0, average: 0, sad: 0 };\r\n            }\r\n          } catch (err) {\r\n            console.error(`Error fetching details for ${movie.source}/${movie.externalId}:`, err);\r\n            counts[movie.externalId] = { excellent: 0, good: 0, average: 0, sad: 0 };\r\n          }\r\n        }\r\n      }\r\n      setReactionCounts(counts);\r\n    };\r\n\r\n    fetchData();\r\n  }, [categories, error]);\r\n\r\n  const handleSearchChange = (e) => {\r\n    const query = e.target.value;\r\n    setSearchQuery(query);\r\n    if (query.trim()) {\r\n      const results = Object.values(moviesByCategory)\r\n        .flat()\r\n        .filter((movie) => movie.title.toLowerCase().includes(query.toLowerCase()))\r\n        .slice(0, 20);\r\n      setSearchSuggestions(results.slice(0, 5));\r\n      setSearchResults(results);\r\n      // Scroll to search results immediately\r\n      const searchResultsElement = document.getElementById('search-results');\r\n      if (searchResultsElement) {\r\n        searchResultsElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      }\r\n    } else {\r\n      setSearchSuggestions([]);\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  const handleAddToWatchlist = (movie) => {\r\n    if (!movie.source || !movie.externalId || movie.externalId === 'undefined') {\r\n      console.warn('Cannot add movie to watchlist, invalid data:', movie);\r\n      return;\r\n    }\r\n    const newWatchlist = [...watchlist, { ...movie, source: movie.source, externalId: movie.externalId }];\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n    trackClick('add_to_watchlist', movie.externalId, movie.title);\r\n  };\r\n\r\n  const handleRemoveFromWatchlist = (externalId, source) => {\r\n    const newWatchlist = watchlist.filter(\r\n      (m) => !(m.externalId === externalId && m.source === source)\r\n    );\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n    trackClick('remove_from_watchlist', externalId, 'unknown');\r\n  };\r\n\r\n  const handleImageError = (e, title) => {\r\n    console.log(`Image failed to load for ${title}: ${e.target.src}`);\r\n    e.target.src = 'https://placehold.co/200x300?text=No+Poster';\r\n  };\r\n\r\n  const openTrailerModal = (trailerUrl) => {\r\n    if (trailerUrl && trailerUrl !== 'N/A') {\r\n      setSelectedTrailer(trailerUrl);\r\n      trackClick('play_trailer', 'trailer', trailerUrl);\r\n    }\r\n  };\r\n\r\n  const closeTrailerModal = () => {\r\n    setSelectedTrailer(null);\r\n  };\r\n\r\n  const openQuickView = (movie) => {\r\n    setQuickViewMovie(movie);\r\n  };\r\n\r\n  const closeQuickView = () => {\r\n    setQuickViewMovie(null);\r\n  };\r\n\r\n  const getRecommendations = () => {\r\n    const genres = watchlist.flatMap((movie) => movie.genre_ids || []);\r\n    const topGenre = genres.sort(\r\n      (a, b) => genres.filter((v) => v === a).length - genres.filter((v) => v === b).length\r\n    )[0];\r\n    return (\r\n      moviesByCategory['trending']?.filter((movie) => movie.genre_ids?.includes(topGenre))?.slice(0, 5) || []\r\n    );\r\n  };\r\n  const recommendations = getRecommendations();\r\n\r\n  const memoizedCategories = useMemo(() => {\r\n    if (activeCategory === 'webseries' || searchQuery.toLowerCase().includes('web series')) {\r\n      return [\r\n        categories.find((c) => c.id === 'webseries'),\r\n        ...categories.filter((c) => c.id !== 'webseries'),\r\n      ];\r\n    }\r\n    return categories;\r\n  }, [activeCategory, searchQuery, categories]);\r\n\r\n  const renderMovieCard = (movie, categoryId, index) => {\r\n    let genresString = 'N/A';\r\n    if (movie.genres) {\r\n      if (Array.isArray(movie.genres)) {\r\n        genresString = movie.genres\r\n          .map(genre => (typeof genre === 'object' && genre.name ? genre.name : genre))\r\n          .join(', ');\r\n      } else if (typeof movie.genres === 'string') {\r\n        genresString = movie.genres;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div key={`${categoryId}-${movie.source}-${movie.externalId}-${index}`} className=\"movie-card\">\r\n        <div\r\n          className=\"movie-poster\"\r\n          onClick={() => openTrailerModal(movie.trailer)}\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onKeyPress={(e) => e.key === 'Enter' && openTrailerModal(movie.trailer)}\r\n          aria-label={`Play trailer for ${movie.title}`}\r\n        >\r\n          <LazyLoad height={300}>\r\n            <img\r\n              src={movie.poster}\r\n              alt={movie.title}\r\n              onError={(e) => handleImageError(e, movie.title)}\r\n            />\r\n          </LazyLoad>\r\n          <div className=\"movie-overlay\">\r\n            <p>IMDb Rating: {movie.imdbRating || 'N/A'}</p>\r\n            <Link\r\n              to={`/movies/${movie.source}/${movie.externalId}`}\r\n              onClick={() => trackClick('view_details', movie.externalId, movie.title)}\r\n            >\r\n              <button\r\n                className=\"cta-button\"\r\n                aria-label={`View details for ${movie.title}`}\r\n              >\r\n                View Details\r\n              </button>\r\n            </Link>\r\n            {movie.watchProviders?.US?.ads?.length > 0 && (\r\n              <div className=\"watch-free\">\r\n                <h4>Watch for Free on:</h4>\r\n                <ul>\r\n                  {movie.watchProviders.US.ads.map((provider, index) => (\r\n                    <li key={index}>{provider.provider_name}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            {movie.directLink && (\r\n              <a href={movie.directLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"watch-now\" aria-label={`Watch ${movie.title} on Internet Archive`}>\r\n                Watch Now\r\n              </a>\r\n            )}\r\n            {watchlist.some((m) => m.externalId === movie.externalId && m.source === movie.source) ? (\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleRemoveFromWatchlist(movie.externalId, movie.source);\r\n                }}\r\n                aria-label={`Remove ${movie.title} from watchlist`}\r\n              >\r\n                Remove from Watchlist\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleAddToWatchlist(movie);\r\n                }}\r\n                aria-label={`Add ${movie.title} to watchlist`}\r\n              >\r\n                Add to Watchlist\r\n              </button>\r\n            )}\r\n            <div className=\"reaction-buttons\" style={{ \r\n              display: 'flex', \r\n              gap: '5px', \r\n              marginTop: '10px',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'center'\r\n            }}>\r\n              {['excellent', 'good', 'average', 'sad'].map((reaction) => (\r\n                <button\r\n                  key={reaction}\r\n                  className=\"cta-button\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleReaction(movie.externalId, reaction);\r\n                  }}\r\n                  disabled={!!userReactions[`${movie.externalId}`]}\r\n                  aria-label={`React with ${reaction} to ${movie.title}`}\r\n                  style={{\r\n                    fontSize: '12px',\r\n                    padding: '5px 8px',\r\n                    opacity: userReactions[`${movie.externalId}`] ? 0.6 : 1,\r\n                  }}\r\n                  title={userReactions[`${movie.externalId}`] ? `You reacted: ${userReactions[`${movie.externalId}`]}` : ''}\r\n                >\r\n                  {{\r\n                    excellent: 'Excellent 👍',\r\n                    good: 'Good 😊', \r\n                    average: 'Average 😐',\r\n                    sad: 'Sad 😢'\r\n                  }[reaction]} ({reactionCounts[movie.externalId]?.[reaction] || 0})\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"movie-info\" style={{ marginTop: '10px' }}>\r\n          <h3 style={{ margin: '0 0 5px 0' }}>{movie.title}</h3>\r\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '5px' }}>\r\n            <span style={{ color: '#666', fontSize: '14px', marginRight: '5px' }}>\r\n              {movie.releaseYear || 'N/A'}\r\n            </span>\r\n            <span style={{ color: '#666', fontSize: '12px', marginRight: '5px' }}>•</span>\r\n            <span style={{ color: '#666', fontSize: '14px' }}>\r\n              {genresString}\r\n            </span>\r\n          </div>\r\n          <button\r\n            className=\"quick-view-btn\"\r\n            onClick={() => openQuickView(movie)}\r\n            style={{ color: '#1a73e8', background: 'none', border: 'none', cursor: 'pointer', fontSize: '14px' }}\r\n            aria-label={`Quick view for ${movie.title}`}\r\n          >\r\n            Quick View\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"home fade-in\">\r\n      <Helmet>\r\n        <title>MovieVerse - Stream Movies & Web Series</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Watch Hollywood, Bollywood, Web Series, and more on MovieVerse!\"\r\n        />\r\n      </Helmet>\r\n\r\n      {selectedTrailer && (\r\n        <div className=\"trailer-modal\">\r\n          <div className=\"trailer-modal-content\">\r\n            <button className=\"trailer-modal-close\" onClick={closeTrailerModal} aria-label=\"Close trailer modal\">\r\n              ×\r\n            </button>\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              src={selectedTrailer.replace('watch?v=', 'embed/')}\r\n              title=\"Movie Trailer\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {quickViewMovie && (\r\n        <div className=\"quick-view-modal\" style={{ position: 'fixed', backgroundColor: 'black', color: 'white', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'black', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 10px rgba(0,0,0,0.3)', zIndex: 1000, maxWidth: '500px', width: '90%' }}>\r\n          <button onClick={closeQuickView} style={{ float: 'right', background: 'none', color: 'red', border: 'none', fontSize: '20px', cursor: 'pointer' }} aria-label=\"Close quick view\">×</button>\r\n          <h2>{quickViewMovie.title}</h2>\r\n          <p><strong>Overview:</strong> {quickViewMovie.overview || 'No overview available.'}</p>\r\n          <p><strong>Cast:</strong> {quickViewMovie.cast?.join(', ') || 'N/A'}</p>\r\n          <p><strong>Budget:</strong> {quickViewMovie.budget ? `$${quickViewMovie.budget.toLocaleString()}` : 'N/A'}</p>\r\n          <p><strong>Release Date:</strong> {quickViewMovie.release_date || 'N/A'}</p>\r\n          <p><strong>Genres:</strong> {quickViewMovie.genres?.join(', ') || 'N/A'}</p>\r\n          <p><strong>IMDb Rating:</strong> {quickViewMovie.imdbRating || 'N/A'}</p>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"header\">\r\n        <h1\r\n          className=\"logo\"\r\n          onClick={() => {\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n            setActiveCategory(null);\r\n          }}\r\n          aria-label=\"Go to top of page\"\r\n        >\r\n          MovieVerse 2.0\r\n        </h1>\r\n        <div className=\"nav-container\">\r\n          <nav className=\"nav\">\r\n            {categories.map((category) => (\r\n              <span\r\n                key={category.id}\r\n                className={`nav-link ${activeCategory === category.id ? 'active' : ''}`}\r\n                onClick={() => scrollToCategory(category.id)}\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                onKeyPress={(e) => e.key === 'Enter' && scrollToCategory(category.id)}\r\n                aria-label={`Navigate to ${category.name} category`}\r\n              >\r\n                {category.name}\r\n              </span>\r\n            ))}\r\n            <span\r\n              className={`nav-link ${activeCategory === 'watchlist' ? 'active' : ''}`}\r\n              onClick={() => scrollToCategory('watchlist')}\r\n              role=\"button\"\r\n              tabIndex={0}\r\n              onKeyPress={(e) => e.key === 'Enter' && scrollToCategory('watchlist')}\r\n              aria-label=\"Navigate to My Watchlist\"\r\n            >\r\n              My Watchlist\r\n            </span>\r\n          </nav>\r\n          <div className=\"search-toggle\">\r\n            <button\r\n              className=\"search-icon\"\r\n              onClick={() => setShowSearch(!showSearch)}\r\n              aria-label=\"Toggle search bar\"\r\n            >\r\n              🔍\r\n            </button>\r\n            {showSearch && (\r\n              <div className=\"search-bar\">\r\n                <div className=\"search-container\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchQuery}\r\n                    onChange={handleSearchChange}\r\n                    placeholder=\"Search movies, web series...\"\r\n                    aria-label=\"Search for movies or web series\"\r\n                    autoFocus\r\n                  />\r\n                  {searchSuggestions.length > 0 && (\r\n                    <ul className=\"search-suggestions\">\r\n                      {searchSuggestions.map((movie) => (\r\n                        <li\r\n                          key={`${movie.source}-${movie.externalId}`}\r\n                          onClick={() => {\r\n                            setSearchQuery(movie.title);\r\n                            setSearchResults([movie]);\r\n                            setShowSearch(false);\r\n                            const searchResultsElement = document.getElementById('search-results');\r\n                            if (searchResultsElement) {\r\n                              searchResultsElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                            }\r\n                          }}\r\n                          role=\"option\"\r\n                          tabIndex={0}\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                              setSearchQuery(movie.title);\r\n                              setSearchResults([movie]);\r\n                              setShowSearch(false);\r\n                              const searchResultsElement = document.getElementById('search-results');\r\n                              if (searchResultsElement) {\r\n                                searchResultsElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                              }\r\n                            }\r\n                          }}\r\n                          aria-label={`Select ${movie.title}`}\r\n                          aria-selected={false}\r\n                        >\r\n                          {movie.title}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {notices.length > 0 && (\r\n        <div className=\"notices-ticker\">\r\n          <div className=\"ticker-content\">\r\n            {notices.map((notice, index) => (\r\n              <span key={index} className=\"ticker-item\">\r\n                {notice.text || notice.message}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {loading && <p className=\"loading\">Loading content...</p>}\r\n\r\n      {error && <p className=\"error\">{error}</p>}\r\n\r\n      {featuredMovie && !loading && !error && (\r\n        <div className=\"hero-section\" style={{ position: 'relative', height: '60vh', overflow: 'hidden' }}>\r\n          <img\r\n            src={featuredMovie.poster || 'https://placehold.co/3840x2160?text=4K+Poster'}\r\n            alt={featuredMovie.title}\r\n            style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              minWidth: '100%',\r\n              minHeight: '100%',\r\n              width: 'auto',\r\n              height: 'auto',\r\n              transform: 'translate(-50%, -50%)',\r\n              zIndex: 1,\r\n              objectFit: 'cover',\r\n            }}\r\n            onError={(e) => { e.target.src = 'https://placehold.co/3840x2160?text=4K+Poster'; }}\r\n          />\r\n          <div className=\"hero-overlay\" style={{ position: 'relative', zIndex: 2, color: '#fff', textAlign: 'center', paddingTop: '20vh', background: 'rgba(0, 0, 0, 0.5)' }}>\r\n            <div className=\"hero-content\">\r\n              <h2 style={{ fontSize: '2.5em', marginBottom: '10px' }}>{featuredMovie.title}</h2>\r\n              <p style={{ fontSize: '1.2em', marginBottom: '20px' }}>{featuredMovie.imdbRating || 'N/A'}</p>\r\n              <div className=\"hero-buttons\">\r\n                {featuredMovie.trailer && featuredMovie.trailer !== 'N/A' && (\r\n                  <button\r\n                    className=\"cta-button hero-button play-trailer\"\r\n                    onClick={() => openTrailerModal(featuredMovie.trailer)}\r\n                    aria-label={`Play trailer for ${featuredMovie.title}`}\r\n                  >\r\n                    Play Trailer\r\n                  </button>\r\n                )}\r\n                <Link\r\n                  to={`/movies/${featuredMovie.source}/${featuredMovie.externalId}`}\r\n                  onClick={() => trackClick('view_details', featuredMovie.externalId, featuredMovie.title)}\r\n                >\r\n                  <button\r\n                    className=\"cta-button hero-button\"\r\n                    aria-label={`View details for ${featuredMovie.title}`}\r\n                  >\r\n                    View Details\r\n                  </button>\r\n                </Link>\r\n                {watchlist.some((m) => m.externalId === featuredMovie.externalId && m.source === featuredMovie.source) ? (\r\n                  <button\r\n                    className=\"cta-button hero-button\"\r\n                    onClick={() => handleRemoveFromWatchlist(featuredMovie.externalId, featuredMovie.source)}\r\n                    aria-label={`Remove ${featuredMovie.title} from watchlist`}\r\n                  >\r\n                    Remove from Watchlist\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    className=\"cta-button hero-button\"\r\n                    onClick={() => handleAddToWatchlist(featuredMovie)}\r\n                    aria-label={`Add ${featuredMovie.title} to watchlist`}\r\n                  >\r\n                    Add to Watchlist\r\n                  </button>\r\n                )}\r\n                <div className=\"reaction-buttons\" style={{ display: 'flex', gap: '5px', marginTop: '10px', justifyContent: 'center' }}>\r\n                  {['excellent', 'good', 'average', 'sad'].map((reaction) => (\r\n                    <button\r\n                      key={reaction}\r\n                      className=\"cta-button\"\r\n                      onClick={() => handleReaction(featuredMovie.externalId, reaction)}\r\n                      disabled={!!userReactions[`${featuredMovie.externalId}`]}\r\n                      aria-label={`React with ${reaction} to ${featuredMovie.title}`}\r\n                      style={{\r\n                        fontSize: '12px',\r\n                        padding: '5px 8px',\r\n                        opacity: userReactions[`${featuredMovie.externalId}`] ? 0.6 : 1,\r\n                      }}\r\n                      title={userReactions[`${featuredMovie.externalId}`] ? `You reacted: ${userReactions[`${featuredMovie.externalId}`]}` : ''}\r\n                    >\r\n                      {{\r\n                        excellent: 'Excellent 👍',\r\n                        good: 'Good 😊',\r\n                        average: 'Average 😐',\r\n                        sad: 'Sad 😢'\r\n                      }[reaction]} ({reactionCounts[featuredMovie.externalId]?.[reaction] || 0})\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showBannerAd && (\r\n        <div className=\"ad-placeholder banner-ad\">\r\n          <img\r\n            src=\"https://placehold.co/728x90?text=Banner+Ad\"\r\n            alt=\"Banner Ad\"\r\n          />\r\n          <button onClick={() => setShowBannerAd(false)} aria-label=\"Close banner ad\">Close Ad</button>\r\n        </div>\r\n      )}\r\n\r\n      {showInterstitialAd && (\r\n        <div className=\"ad-placeholder interstitial-ad\">\r\n          <img\r\n            src=\"https://placehold.co/728x90?text=Interstitial+Ad\"\r\n            alt=\"Interstitial Ad\"\r\n          />\r\n          <button onClick={() => setShowInterstitialAd(false)} aria-label=\"Close interstitial ad\">Close Ad</button>\r\n        </div>\r\n      )}\r\n\r\n      {watchlist.length > 0 && (\r\n        <div className=\"category-section\" id=\"watchlist\">\r\n          <h2>My Watchlist</h2>\r\n          <div className=\"movie-grid horizontal-scroll\">\r\n            {watchlist.filter((movie) => movie.source && movie.externalId).map((movie, index) => renderMovieCard(movie, 'watchlist', index))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {recommendations.length > 0 && (\r\n        <div className=\"category-section\" id=\"recommendations\">\r\n          <h2>Recommended for You</h2>\r\n          <div className=\"movie-grid horizontal-scroll\">\r\n            {recommendations.filter((movie) => movie.source && movie.externalId).map((movie, index) => renderMovieCard(movie, 'recommendations', index))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {searchResults.length > 0 && (\r\n        <div className=\"search-results\" id=\"search-results\">\r\n          <h2>Search Results</h2>\r\n          <div className=\"movie-grid horizontal-scroll\">\r\n            {searchResults.filter((movie) => movie.source && movie.externalId).map((movie, index) => renderMovieCard(movie, 'search-results', index))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {memoizedCategories.map((category) => (\r\n        <div key={category.id} className=\"category-section\" id={category.id}>\r\n          <h2>{category.name}</h2>\r\n          {moviesByCategory[category.id]?.length > 0 ? (\r\n            <div className=\"movie-grid horizontal-scroll\">\r\n              {moviesByCategory[category.id]\r\n                .filter(\r\n                  (movie) =>\r\n                    movie.source &&\r\n                    movie.externalId &&\r\n                    typeof movie.source === 'string' &&\r\n                    typeof movie.externalId === 'string'\r\n                )\r\n                .map((movie, index) => {\r\n                  console.log('Rendering movie:', { title: movie.title, source: movie.source, externalId: movie.externalId });\r\n                  return renderMovieCard(movie, category.id, index);\r\n                })}\r\n            </div>\r\n          ) : (\r\n            <p>No movies available in {category.name}.</p>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}