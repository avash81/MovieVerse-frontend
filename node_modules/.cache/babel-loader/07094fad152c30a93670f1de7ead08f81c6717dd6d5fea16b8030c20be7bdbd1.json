{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Desktop/new/project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{Helmet}from'react-helmet';import LazyLoad from'react-lazyload';import{getMovieDetails,getReviews,submitReview,submitReply,submitReaction}from'../api/api';import'../styles.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const formatTimestamp=date=>{const now=new Date();const diffMs=now-new Date(date);const diffSeconds=Math.floor(diffMs/1000);const diffMinutes=Math.floor(diffSeconds/60);const diffHours=Math.floor(diffMinutes/60);const diffDays=Math.floor(diffHours/24);if(diffDays>0)return\"\".concat(diffDays,\" day\").concat(diffDays>1?'s':'',\" ago\");if(diffHours>0)return\"\".concat(diffHours,\" hour\").concat(diffHours>1?'s':'',\" ago\");if(diffMinutes>0)return\"\".concat(diffMinutes,\" minute\").concat(diffMinutes>1?'s':'',\" ago\");return'Just now';};const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;function MovieDetails(){var _movie$watchProviders,_movie$watchProviders2,_movie$watchProviders3,_movie$cast,_movie$productionComp;const{source,externalId}=useParams();const[movie,setMovie]=useState(null);const[reviews,setReviews]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);const[reviewText,setReviewText]=useState('');const[reviewName,setReviewName]=useState('');const[reviewEmail,setReviewEmail]=useState('');const[watchlist,setWatchlist]=useState(JSON.parse(localStorage.getItem('watchlist'))||[]);const[selectedTrailer,setSelectedTrailer]=useState(null);const[reactionCounts,setReactionCounts]=useState({excellent:0,good:0,average:0,sad:0});const[replyingTo,setReplyingTo]=useState(null);const[replyText,setReplyText]=useState('');const[replyName,setReplyName]=useState('');const[replyEmail,setReplyEmail]=useState('');useEffect(()=>{let isMounted=true;const fetchData=async()=>{try{var _movieResponse$data;console.log('Fetching movie details and reviews for:',{source,externalId});const[movieResponse,reviewsResponse]=await Promise.all([getMovieDetails(source,externalId),getReviews(source,externalId)]);if(!isMounted)return;if(!((_movieResponse$data=movieResponse.data)!==null&&_movieResponse$data!==void 0&&_movieResponse$data.externalId)){throw new Error('Invalid movie data received');}console.log('Movie Details Response:',movieResponse.data);console.log('Reviews Response:',reviewsResponse.data);setMovie(movieResponse.data);setReviews(Array.isArray(reviewsResponse.data)?reviewsResponse.data:[]);setReactionCounts(movieResponse.data.reactionCounts||{excellent:0,good:0,average:0,sad:0});setError(null);}catch(err){var _err$response,_err$response2;console.error('Data loading error:',{message:err.message,response:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data,status:(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status});if(isMounted){var _err$response3,_err$response3$data;setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.msg)||'Failed to load movie details');}}finally{if(isMounted)setLoading(false);}};fetchData();return()=>{isMounted=false;};},[source,externalId]);const handleAddToWatchlist=movie=>{if(!movie.source||!movie.externalId||movie.externalId==='undefined'){console.warn('Cannot add movie to watchlist, invalid data:',movie);return;}const newWatchlist=[...watchlist,_objectSpread(_objectSpread({},movie),{},{source:movie.source,externalId:movie.externalId})];setWatchlist(newWatchlist);localStorage.setItem('watchlist',JSON.stringify(newWatchlist));};const handleRemoveFromWatchlist=(externalId,source)=>{const newWatchlist=watchlist.filter(m=>!(m.externalId===externalId&&m.source===source));setWatchlist(newWatchlist);localStorage.setItem('watchlist',JSON.stringify(newWatchlist));};const handleImageError=(e,title)=>{console.log(\"Image failed to load for \".concat(title,\": \").concat(e.target.src));e.target.src='https://placehold.co/300x450?text=No+Poster';};const openTrailerModal=trailerUrl=>{if(trailerUrl&&trailerUrl!=='N/A'){setSelectedTrailer(trailerUrl);}};const closeTrailerModal=()=>{setSelectedTrailer(null);};const handleSubmitReview=async e=>{e.preventDefault();if(!reviewText.trim()||!reviewName.trim()||!reviewEmail.trim()){setError('Please fill all fields (name, email, review).');return;}if(!emailRegex.test(reviewEmail)){setError('Please enter a valid email address (e.g., user@example.com).');return;}try{await submitReview(source,externalId,{text:reviewText,name:reviewName,email:reviewEmail});const reviewsResponse=await getReviews(source,externalId);setReviews(Array.isArray(reviewsResponse.data)?reviewsResponse.data:[]);setReviewText('');setReviewName('');setReviewEmail('');setError(null);}catch(err){var _err$response4,_err$response4$data;setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.msg)||'Failed to submit review. Check console for details.');}};const handleReaction=async reaction=>{try{await submitReaction(source,externalId,reaction);const response=await getMovieDetails(source,externalId);setReactionCounts(response.data.reactionCounts||{excellent:0,good:0,average:0,sad:0});setError(null);}catch(err){var _err$response5,_err$response5$data;setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.msg)||'Failed to submit reaction. Check console for details.');}};const handleReply=async reviewId=>{if(!replyText.trim()||!replyName.trim()||!replyEmail.trim()){setError('Please fill all fields (name, email, reply).');return;}if(!emailRegex.test(replyEmail)){setError('Please enter a valid email address (e.g., user@example.com).');return;}try{await submitReply(source,externalId,reviewId,{text:replyText,name:replyName,email:replyEmail});const reviewsResponse=await getReviews(source,externalId);setReviews(Array.isArray(reviewsResponse.data)?reviewsResponse.data:[]);setReplyText('');setReplyName('');setReplyEmail('');setReplyingTo(null);setError(null);}catch(err){var _err$response6,_err$response6$data;setError(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.msg)||'Failed to submit reply. Check console for details.');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-screen\",style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",style:{border:'4px solid #f3f3f3',borderTop:'4px solid #3498db',borderRadius:'50%',width:'40px',height:'40px',animation:'spin 1s linear infinite',margin:'0 auto'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',marginTop:'10px'},children:\"Loading movie details...\"}),/*#__PURE__*/_jsx(\"style\",{children:'@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }'})]});}if(error&&!movie){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-screen\",style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',marginBottom:'10px'},children:\"Oops! Something went wrong\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem'},children:error}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"home-link\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",style:{padding:'8px 16px',fontSize:'1rem',marginTop:'10px'},children:\"Return to Home\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-details fade-in\",style:{padding:'20px',maxWidth:'1200px',margin:'0 auto',boxSizing:'border-box'},children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:movie!==null&&movie!==void 0&&movie.title?\"\".concat(movie.title,\" - MovieVerse\"):'Movie Details - MovieVerse'}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:(movie===null||movie===void 0?void 0:movie.overview)||'View movie details on MovieVerse'})]}),selectedTrailer&&/*#__PURE__*/_jsx(\"div\",{className:\"trailer-modal\",style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.8)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{className:\"trailer-modal-content\",style:{position:'relative',width:'80%',maxWidth:'800px',aspectRatio:'16/9'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"trailer-modal-close\",onClick:closeTrailerModal,style:{position:'absolute',top:'10px',right:'10px',fontSize:'24px',color:'#fff',background:'none',border:'none',cursor:'pointer'},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"100%\",src:selectedTrailer.replace('watch?v=','embed/'),title:\"Movie Trailer\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})]})}),/*#__PURE__*/_jsx(\"header\",{className:\"details-header\",style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'10px 20px',width:'100%',boxSizing:'border-box'},children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"home-link\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"h1\",{className:\"logo\",style:{fontSize:'2.5rem',fontWeight:700,color:'#fff',margin:'10px 0',transition:'font-size 0.3s ease'},children:\"MovieVerse\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-content\",style:{marginTop:'20px'},children:movie&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:600,color:'#333',margin:'20px 0',textAlign:'center',transition:'font-size 0.3s ease'},children:movie.title||'Untitled Movie'}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-poster\",style:{display:'flex',justifyContent:'center',margin:'20px 0'},children:/*#__PURE__*/_jsx(LazyLoad,{height:450,children:/*#__PURE__*/_jsx(\"img\",{src:movie.poster||'https://placehold.co/300x450?text=No+Poster',alt:movie.title||'Movie Poster',onError:e=>handleImageError(e,movie.title||'Unknown'),style:{width:'100%',maxWidth:'300px',height:'auto',borderRadius:'8px'}})})}),movie.screenshots&&movie.screenshots.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",style:{margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.8rem',fontWeight:600,color:'#333',margin:'20px 0',transition:'font-size 0.3s ease'},children:\"Screenshots\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-grid horizontal-scroll\",style:{display:'flex',overflowX:'auto',gap:'10px',paddingBottom:'10px'},children:movie.screenshots.map((screenshot,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"movie-card\",style:{flex:'0 0 auto'},children:/*#__PURE__*/_jsx(\"div\",{className:\"movie-poster\",children:/*#__PURE__*/_jsx(LazyLoad,{height:300,children:/*#__PURE__*/_jsx(\"img\",{src:screenshot||'https://placehold.co/200x300?text=No+Screenshot',alt:\"\".concat(movie.title,\" screenshot \").concat(index+1),onError:e=>handleImageError(e,\"\".concat(movie.title,\" screenshot \").concat(index+1)),style:{width:'200px',height:'300px',objectFit:'cover',borderRadius:'8px'}})})})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storyline\",style:{margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.8rem',fontWeight:600,color:'#333',marginBottom:'10px',transition:'font-size 0.3s ease'},children:\"Storyline\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',lineHeight:'1.5'},children:movie.overview||'No storyline available.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"download-links\",style:{margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.8rem',fontWeight:600,color:'#333',marginBottom:'10px',transition:'font-size 0.3s ease'},children:\"Watch Options\"}),movie.directLink?/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:/*#__PURE__*/_jsx(\"li\",{style:{margin:'5px 0',fontSize:'1rem'},children:/*#__PURE__*/_jsx(\"a\",{href:movie.directLink,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#1a73e8',textDecoration:'none'},children:\"Watch on Internet Archive\"})})}):/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem'},children:\"No direct watch links available.\"}),((_movie$watchProviders=movie.watchProviders)===null||_movie$watchProviders===void 0?void 0:(_movie$watchProviders2=_movie$watchProviders.US)===null||_movie$watchProviders2===void 0?void 0:(_movie$watchProviders3=_movie$watchProviders2.ads)===null||_movie$watchProviders3===void 0?void 0:_movie$watchProviders3.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"watch-free\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.2rem',margin:'10px 0'},children:\"Watch for Free on:\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:movie.watchProviders.US.ads.map((provider,index)=>/*#__PURE__*/_jsx(\"li\",{style:{margin:'5px 0',fontSize:'1rem'},children:provider.provider_name},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reactions\",style:{margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.8rem',fontWeight:600,color:'#333',marginBottom:'10px',transition:'font-size 0.3s ease'},children:\"Reactions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reaction-buttons\",style:{display:'flex',gap:'10px',flexWrap:'wrap',justifyContent:'center'},children:['excellent','good','average','sad'].map(reaction=>/*#__PURE__*/_jsxs(\"button\",{className:\"cta-button\",onClick:()=>handleReaction(reaction),disabled:reactionCounts[reaction]>0,\"aria-label\":\"React with \".concat(reaction,\" to \").concat(movie.title),style:{fontSize:'0.9rem',padding:'8px 12px',opacity:reactionCounts[reaction]>0?0.6:1},children:[{excellent:'Excellent 👍',good:'Good 😊',average:'Average 😐',sad:'Sad 😢'}[reaction],\" (\",reactionCounts[reaction]||0,\")\"]},reaction))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",style:{margin:'20px 0',display:'flex',gap:'10px',justifyContent:'center'},children:[movie.trailer&&movie.trailer!=='N/A'&&/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:()=>openTrailerModal(movie.trailer),style:{padding:'10px 20px',fontSize:'1rem'},\"aria-label\":\"Play trailer for \".concat(movie.title),children:\"Play Trailer\"}),watchlist.some(m=>m.externalId===movie.externalId&&m.source===movie.source)?/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:()=>handleRemoveFromWatchlist(movie.externalId,movie.source),style:{padding:'10px 20px',fontSize:'1rem'},\"aria-label\":\"Remove \".concat(movie.title,\" from watchlist\"),children:\"Remove from Watchlist\"}):/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:()=>handleAddToWatchlist(movie),style:{padding:'10px 20px',fontSize:'1rem'},\"aria-label\":\"Add \".concat(movie.title,\" to watchlist\"),children:\"Add to Watchlist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",style:{margin:'20px 0',fontSize:'1rem',lineHeight:'1.5'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"IMDb Rating:\"}),\" \",movie.imdbRating||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Release Date:\"}),\" \",movie.releaseDate||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genres:\"}),\" \",movie.genres||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Director:\"}),\" \",movie.director||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cast:\"}),\" \",((_movie$cast=movie.cast)===null||_movie$cast===void 0?void 0:_movie$cast.join(', '))||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Runtime:\"}),\" \",movie.runtime||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Budget:\"}),\" \",movie.budget||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Revenue:\"}),\" \",movie.revenue||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Production Companies:\"}),\" \",((_movie$productionComp=movie.productionCompanies)===null||_movie$productionComp===void 0?void 0:_movie$productionComp.join(', '))||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Language:\"}),\" \",movie.language||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Country:\"}),\" \",movie.country||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",movie.status||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tagline:\"}),\" \",movie.tagline||'N/A']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews-section\",style:{margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.8rem',fontWeight:600,color:'#333',marginBottom:'10px',transition:'font-size 0.3s ease'},children:\"Reviews\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitReview,style:{marginBottom:'20px',display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reviewName,onChange:e=>setReviewName(e.target.value),placeholder:\"Your Name\",style:{padding:'8px',fontSize:'1rem',borderRadius:'4px',border:'1px solid #ccc'},\"aria-label\":\"Your name for review\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:reviewEmail,onChange:e=>setReviewEmail(e.target.value),placeholder:\"Your Email\",style:{padding:'8px',fontSize:'1rem',borderRadius:'4px',border:'1px solid #ccc'},\"aria-label\":\"Your email for review\"}),/*#__PURE__*/_jsx(\"textarea\",{value:reviewText,onChange:e=>setReviewText(e.target.value),placeholder:\"Write your review...\",style:{padding:'8px',fontSize:'1rem',borderRadius:'4px',border:'1px solid #ccc',minHeight:'100px',resize:'vertical'},\"aria-label\":\"Your review text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cta-button\",style:{padding:'10px 20px',fontSize:'1rem'},\"aria-label\":\"Submit review\",children:\"Submit Review\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:'1rem',marginBottom:'10px'},children:error}),reviews.length>0?reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review\",style:{marginBottom:'20px',padding:'10px',border:'1px solid #eee',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',fontWeight:'bold',marginBottom:'5px'},children:review.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:formatTimestamp(review.createdAt)}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',marginBottom:'10px'},children:review.text}),review.replies&&review.replies.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"replies\",style:{marginLeft:'20px',paddingLeft:'10px',borderLeft:'2px solid #eee'},children:review.replies.map(reply=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',fontWeight:'bold',marginBottom:'5px'},children:reply.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.8rem',color:'#666',marginBottom:'5px'},children:formatTimestamp(reply.createdAt)}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem'},children:reply.text})]},reply._id))}),!replyingTo||replyingTo!==review._id?/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:()=>setReplyingTo(review._id),style:{padding:'8px 12px',fontSize:'0.9rem',marginTop:'10px'},\"aria-label\":\"Reply to \".concat(review.name,\"'s review\"),children:\"Reply\"}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:()=>handleReply(review._id),style:{marginTop:'10px',display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:replyName,onChange:e=>setReplyName(e.target.value),placeholder:\"Your Name\",style:{padding:'8px',fontSize:'0.9rem',borderRadius:'4px',border:'1px solid #ccc'},\"aria-label\":\"Your name for reply\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:replyEmail,onChange:e=>setReplyEmail(e.target.value),placeholder:\"Your Email\",style:{padding:'8px',fontSize:'0.9rem',borderRadius:'4px',border:'1px solid #ccc'},\"aria-label\":\"Your email for reply\"}),/*#__PURE__*/_jsx(\"textarea\",{value:replyText,onChange:e=>setReplyText(e.target.value),placeholder:\"Write your reply...\",style:{padding:'8px',fontSize:'0.9rem',borderRadius:'4px',border:'1px solid #ccc',minHeight:'80px',resize:'vertical'},\"aria-label\":\"Your reply text\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cta-button\",style:{padding:'8px 12px',fontSize:'0.9rem'},\"aria-label\":\"Submit reply\",children:\"Submit Reply\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cta-button\",onClick:()=>setReplyingTo(null),style:{padding:'8px 12px',fontSize:'0.9rem',background:'#ccc'},\"aria-label\":\"Cancel reply\",children:\"Cancel\"})]})]})]},review._id)):/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem'},children:\"No reviews yet. Be the first to share your thoughts!\"})]})]})})]});}export default MovieDetails;","map":{"version":3,"names":["useState","useEffect","useParams","Link","Helmet","LazyLoad","getMovieDetails","getReviews","submitReview","submitReply","submitReaction","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatTimestamp","date","now","Date","diffMs","diffSeconds","Math","floor","diffMinutes","diffHours","diffDays","concat","emailRegex","MovieDetails","_movie$watchProviders","_movie$watchProviders2","_movie$watchProviders3","_movie$cast","_movie$productionComp","source","externalId","movie","setMovie","reviews","setReviews","error","setError","loading","setLoading","reviewText","setReviewText","reviewName","setReviewName","reviewEmail","setReviewEmail","watchlist","setWatchlist","JSON","parse","localStorage","getItem","selectedTrailer","setSelectedTrailer","reactionCounts","setReactionCounts","excellent","good","average","sad","replyingTo","setReplyingTo","replyText","setReplyText","replyName","setReplyName","replyEmail","setReplyEmail","isMounted","fetchData","_movieResponse$data","console","log","movieResponse","reviewsResponse","Promise","all","data","Error","Array","isArray","err","_err$response","_err$response2","message","response","status","_err$response3","_err$response3$data","msg","handleAddToWatchlist","warn","newWatchlist","_objectSpread","setItem","stringify","handleRemoveFromWatchlist","filter","m","handleImageError","e","title","target","src","openTrailerModal","trailerUrl","closeTrailerModal","handleSubmitReview","preventDefault","trim","test","text","name","email","_err$response4","_err$response4$data","handleReaction","reaction","_err$response5","_err$response5$data","handleReply","reviewId","_err$response6","_err$response6$data","className","style","textAlign","padding","children","border","borderTop","borderRadius","width","height","animation","margin","fontSize","marginTop","marginBottom","to","textDecoration","maxWidth","boxSizing","content","overview","position","top","left","background","display","justifyContent","alignItems","zIndex","aspectRatio","onClick","right","color","cursor","replace","frameBorder","allow","allowFullScreen","fontWeight","transition","poster","alt","onError","screenshots","length","overflowX","gap","paddingBottom","map","screenshot","index","flex","objectFit","lineHeight","directLink","listStyle","href","rel","watchProviders","US","ads","provider","provider_name","flexWrap","disabled","opacity","trailer","some","imdbRating","releaseDate","genres","director","cast","join","runtime","budget","revenue","productionCompanies","language","country","tagline","onSubmit","flexDirection","type","value","onChange","placeholder","minHeight","resize","review","createdAt","replies","marginLeft","paddingLeft","borderLeft","reply","_id"],"sources":["C:/Users/hp/Desktop/new/project/frontend/src/components/MovieDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet';\r\nimport LazyLoad from 'react-lazyload';\r\nimport { getMovieDetails, getReviews, submitReview, submitReply, submitReaction } from '../api/api';\r\nimport '../styles.css';\r\n\r\nconst formatTimestamp = (date) => {\r\n  const now = new Date();\r\n  const diffMs = now - new Date(date);\r\n  const diffSeconds = Math.floor(diffMs / 1000);\r\n  const diffMinutes = Math.floor(diffSeconds / 60);\r\n  const diffHours = Math.floor(diffMinutes / 60);\r\n  const diffDays = Math.floor(diffHours / 24);\r\n\r\n  if (diffDays > 0) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\r\n  if (diffHours > 0) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\r\n  if (diffMinutes > 0) return `${diffMinutes} minute${diffMinutes > 1 ? 's' : ''} ago`;\r\n  return 'Just now';\r\n};\r\n\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nfunction MovieDetails() {\r\n  const { source, externalId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [reviewText, setReviewText] = useState('');\r\n  const [reviewName, setReviewName] = useState('');\r\n  const [reviewEmail, setReviewEmail] = useState('');\r\n  const [watchlist, setWatchlist] = useState(JSON.parse(localStorage.getItem('watchlist')) || []);\r\n  const [selectedTrailer, setSelectedTrailer] = useState(null);\r\n  const [reactionCounts, setReactionCounts] = useState({ excellent: 0, good: 0, average: 0, sad: 0 });\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  const [replyText, setReplyText] = useState('');\r\n  const [replyName, setReplyName] = useState('');\r\n  const [replyEmail, setReplyEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        console.log('Fetching movie details and reviews for:', { source, externalId });\r\n        const [movieResponse, reviewsResponse] = await Promise.all([\r\n          getMovieDetails(source, externalId),\r\n          getReviews(source, externalId),\r\n        ]);\r\n\r\n        if (!isMounted) return;\r\n\r\n        if (!movieResponse.data?.externalId) {\r\n          throw new Error('Invalid movie data received');\r\n        }\r\n\r\n        console.log('Movie Details Response:', movieResponse.data);\r\n        console.log('Reviews Response:', reviewsResponse.data);\r\n        setMovie(movieResponse.data);\r\n        setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n        setReactionCounts(\r\n          movieResponse.data.reactionCounts || { excellent: 0, good: 0, average: 0, sad: 0 }\r\n        );\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Data loading error:', {\r\n          message: err.message,\r\n          response: err.response?.data,\r\n          status: err.response?.status,\r\n        });\r\n        if (isMounted) {\r\n          setError(err.response?.data?.msg || 'Failed to load movie details');\r\n        }\r\n      } finally {\r\n        if (isMounted) setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [source, externalId]);\r\n\r\n  const handleAddToWatchlist = (movie) => {\r\n    if (!movie.source || !movie.externalId || movie.externalId === 'undefined') {\r\n      console.warn('Cannot add movie to watchlist, invalid data:', movie);\r\n      return;\r\n    }\r\n    const newWatchlist = [...watchlist, { ...movie, source: movie.source, externalId: movie.externalId }];\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n  };\r\n\r\n  const handleRemoveFromWatchlist = (externalId, source) => {\r\n    const newWatchlist = watchlist.filter((m) => !(m.externalId === externalId && m.source === source));\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n  };\r\n\r\n  const handleImageError = (e, title) => {\r\n    console.log(`Image failed to load for ${title}: ${e.target.src}`);\r\n    e.target.src = 'https://placehold.co/300x450?text=No+Poster';\r\n  };\r\n\r\n  const openTrailerModal = (trailerUrl) => {\r\n    if (trailerUrl && trailerUrl !== 'N/A') {\r\n      setSelectedTrailer(trailerUrl);\r\n    }\r\n  };\r\n\r\n  const closeTrailerModal = () => {\r\n    setSelectedTrailer(null);\r\n  };\r\n\r\n  const handleSubmitReview = async (e) => {\r\n    e.preventDefault();\r\n    if (!reviewText.trim() || !reviewName.trim() || !reviewEmail.trim()) {\r\n      setError('Please fill all fields (name, email, review).');\r\n      return;\r\n    }\r\n    if (!emailRegex.test(reviewEmail)) {\r\n      setError('Please enter a valid email address (e.g., user@example.com).');\r\n      return;\r\n    }\r\n    try {\r\n      await submitReview(source, externalId, { text: reviewText, name: reviewName, email: reviewEmail });\r\n      const reviewsResponse = await getReviews(source, externalId);\r\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n      setReviewText('');\r\n      setReviewName('');\r\n      setReviewEmail('');\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to submit review. Check console for details.');\r\n    }\r\n  };\r\n\r\n  const handleReaction = async (reaction) => {\r\n    try {\r\n      await submitReaction(source, externalId, reaction);\r\n      const response = await getMovieDetails(source, externalId);\r\n      setReactionCounts(response.data.reactionCounts || { excellent: 0, good: 0, average: 0, sad: 0 });\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to submit reaction. Check console for details.');\r\n    }\r\n  };\r\n\r\n  const handleReply = async (reviewId) => {\r\n    if (!replyText.trim() || !replyName.trim() || !replyEmail.trim()) {\r\n      setError('Please fill all fields (name, email, reply).');\r\n      return;\r\n    }\r\n    if (!emailRegex.test(replyEmail)) {\r\n      setError('Please enter a valid email address (e.g., user@example.com).');\r\n      return;\r\n    }\r\n    try {\r\n      await submitReply(source, externalId, reviewId, { text: replyText, name: replyName, email: replyEmail });\r\n      const reviewsResponse = await getReviews(source, externalId);\r\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n      setReplyText('');\r\n      setReplyName('');\r\n      setReplyEmail('');\r\n      setReplyingTo(null);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to submit reply. Check console for details.');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-screen\" style={{ textAlign: 'center', padding: '20px' }}>\r\n        <div className=\"spinner\" style={{ border: '4px solid #f3f3f3', borderTop: '4px solid #3498db', borderRadius: '50%', width: '40px', height: '40px', animation: 'spin 1s linear infinite', margin: '0 auto' }}></div>\r\n        <p style={{ fontSize: '1rem', marginTop: '10px' }}>Loading movie details...</p>\r\n        <style>{'@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }'}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !movie) {\r\n    return (\r\n      <div className=\"error-screen\" style={{ textAlign: 'center', padding: '20px' }}>\r\n        <h2 style={{ fontSize: '1.5rem', marginBottom: '10px' }}>Oops! Something went wrong</h2>\r\n        <p style={{ fontSize: '1rem' }}>{error}</p>\r\n        <Link to=\"/\" className=\"home-link\" style={{ textDecoration: 'none' }}>\r\n          <button className=\"cta-button\" style={{ padding: '8px 16px', fontSize: '1rem', marginTop: '10px' }}>Return to Home</button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie-details fade-in\" style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto', boxSizing: 'border-box' }}>\r\n      <Helmet>\r\n        <title>{movie?.title ? `${movie.title} - MovieVerse` : 'Movie Details - MovieVerse'}</title>\r\n        <meta name=\"description\" content={movie?.overview || 'View movie details on MovieVerse'} />\r\n      </Helmet>\r\n\r\n      {selectedTrailer && (\r\n        <div className=\"trailer-modal\" style={{ position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', background: 'rgba(0,0,0,0.8)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000 }}>\r\n          <div className=\"trailer-modal-content\" style={{ position: 'relative', width: '80%', maxWidth: '800px', aspectRatio: '16/9' }}>\r\n            <button className=\"trailer-modal-close\" onClick={closeTrailerModal} style={{ position: 'absolute', top: '10px', right: '10px', fontSize: '24px', color: '#fff', background: 'none', border: 'none', cursor: 'pointer' }}>×</button>\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              src={selectedTrailer.replace('watch?v=', 'embed/')}\r\n              title=\"Movie Trailer\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"details-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px 20px', width: '100%', boxSizing: 'border-box' }}>\r\n        <Link to=\"/\" className=\"home-link\" style={{ textDecoration: 'none' }}>\r\n          <h1 className=\"logo\" style={{ fontSize: '2.5rem', fontWeight: 700, color: '#fff', margin: '10px 0', transition: 'font-size 0.3s ease' }}>MovieVerse</h1>\r\n        </Link>\r\n      </header>\r\n\r\n      <div className=\"movie-content\" style={{ marginTop: '20px' }}>\r\n        {movie && (\r\n          <>\r\n            <h1 style={{ fontSize: '2rem', fontWeight: 600, color: '#333', margin: '20px 0', textAlign: 'center', transition: 'font-size 0.3s ease' }}>{movie.title || 'Untitled Movie'}</h1>\r\n            <div className=\"movie-poster\" style={{ display: 'flex', justifyContent: 'center', margin: '20px 0' }}>\r\n              <LazyLoad height={450}>\r\n                <img\r\n                  src={movie.poster || 'https://placehold.co/300x450?text=No+Poster'}\r\n                  alt={movie.title || 'Movie Poster'}\r\n                  onError={(e) => handleImageError(e, movie.title || 'Unknown')}\r\n                  style={{ width: '100%', maxWidth: '300px', height: 'auto', borderRadius: '8px' }}\r\n                />\r\n              </LazyLoad>\r\n            </div>\r\n\r\n            {movie.screenshots && movie.screenshots.length > 0 && (\r\n              <div className=\"category-section\" style={{ margin: '20px 0' }}>\r\n                <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', margin: '20px 0', transition: 'font-size 0.3s ease' }}>Screenshots</h2>\r\n                <div className=\"movie-grid horizontal-scroll\" style={{ display: 'flex', overflowX: 'auto', gap: '10px', paddingBottom: '10px' }}>\r\n                  {movie.screenshots.map((screenshot, index) => (\r\n                    <div key={index} className=\"movie-card\" style={{ flex: '0 0 auto' }}>\r\n                      <div className=\"movie-poster\">\r\n                        <LazyLoad height={300}>\r\n                          <img\r\n                            src={screenshot || 'https://placehold.co/200x300?text=No+Screenshot'}\r\n                            alt={`${movie.title} screenshot ${index + 1}`}\r\n                            onError={(e) => handleImageError(e, `${movie.title} screenshot ${index + 1}`)}\r\n                            style={{ width: '200px', height: '300px', objectFit: 'cover', borderRadius: '8px' }}\r\n                          />\r\n                        </LazyLoad>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"storyline\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Storyline</h2>\r\n              <p style={{ fontSize: '1rem', lineHeight: '1.5' }}>{movie.overview || 'No storyline available.'}</p>\r\n            </div>\r\n\r\n            <div className=\"download-links\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Watch Options</h2>\r\n              {movie.directLink ? (\r\n                <ul style={{ listStyle: 'none', padding: 0 }}>\r\n                  <li style={{ margin: '5px 0', fontSize: '1rem' }}>\r\n                    <a href={movie.directLink} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#1a73e8', textDecoration: 'none' }}>\r\n                      Watch on Internet Archive\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              ) : (\r\n                <p style={{ fontSize: '1rem' }}>No direct watch links available.</p>\r\n              )}\r\n              {movie.watchProviders?.US?.ads?.length > 0 && (\r\n                <div className=\"watch-free\">\r\n                  <h4 style={{ fontSize: '1.2rem', margin: '10px 0' }}>Watch for Free on:</h4>\r\n                  <ul style={{ listStyle: 'none', padding: 0 }}>\r\n                    {movie.watchProviders.US.ads.map((provider, index) => (\r\n                      <li key={index} style={{ margin: '5px 0', fontSize: '1rem' }}>{provider.provider_name}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"reactions\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Reactions</h2>\r\n              <div className=\"reaction-buttons\" style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                {['excellent', 'good', 'average', 'sad'].map((reaction) => (\r\n                  <button\r\n                    key={reaction}\r\n                    className=\"cta-button\"\r\n                    onClick={() => handleReaction(reaction)}\r\n                    disabled={reactionCounts[reaction] > 0}\r\n                    aria-label={`React with ${reaction} to ${movie.title}`}\r\n                    style={{\r\n                      fontSize: '0.9rem',\r\n                      padding: '8px 12px',\r\n                      opacity: reactionCounts[reaction] > 0 ? 0.6 : 1,\r\n                    }}\r\n                  >\r\n                    {{\r\n                      excellent: 'Excellent 👍',\r\n                      good: 'Good 😊',\r\n                      average: 'Average 😐',\r\n                      sad: 'Sad 😢'\r\n                    }[reaction]} ({reactionCounts[reaction] || 0})\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"actions\" style={{ margin: '20px 0', display: 'flex', gap: '10px', justifyContent: 'center' }}>\r\n              {movie.trailer && movie.trailer !== 'N/A' && (\r\n                <button\r\n                  className=\"cta-button\"\r\n                  onClick={() => openTrailerModal(movie.trailer)}\r\n                  style={{ padding: '10px 20px', fontSize: '1rem' }}\r\n                  aria-label={`Play trailer for ${movie.title}`}\r\n                >\r\n                  Play Trailer\r\n                </button>\r\n              )}\r\n              {watchlist.some((m) => m.externalId === movie.externalId && m.source === movie.source) ? (\r\n                <button\r\n                  className=\"cta-button\"\r\n                  onClick={() => handleRemoveFromWatchlist(movie.externalId, movie.source)}\r\n                  style={{ padding: '10px 20px', fontSize: '1rem' }}\r\n                  aria-label={`Remove ${movie.title} from watchlist`}\r\n                >\r\n                  Remove from Watchlist\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"cta-button\"\r\n                  onClick={() => handleAddToWatchlist(movie)}\r\n                  style={{ padding: '10px 20px', fontSize: '1rem' }}\r\n                  aria-label={`Add ${movie.title} to watchlist`}\r\n                >\r\n                  Add to Watchlist\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"movie-info\" style={{ margin: '20px 0', fontSize: '1rem', lineHeight: '1.5' }}>\r\n              <p><strong>IMDb Rating:</strong> {movie.imdbRating || 'N/A'}</p>\r\n              <p><strong>Release Date:</strong> {movie.releaseDate || 'N/A'}</p>\r\n              <p><strong>Genres:</strong> {movie.genres || 'N/A'}</p>\r\n              <p><strong>Director:</strong> {movie.director || 'N/A'}</p>\r\n              <p><strong>Cast:</strong> {movie.cast?.join(', ') || 'N/A'}</p>\r\n              <p><strong>Runtime:</strong> {movie.runtime || 'N/A'}</p>\r\n              <p><strong>Budget:</strong> {movie.budget || 'N/A'}</p>\r\n              <p><strong>Revenue:</strong> {movie.revenue || 'N/A'}</p>\r\n              <p><strong>Production Companies:</strong> {movie.productionCompanies?.join(', ') || 'N/A'}</p>\r\n              <p><strong>Language:</strong> {movie.language || 'N/A'}</p>\r\n              <p><strong>Country:</strong> {movie.country || 'N/A'}</p>\r\n              <p><strong>Status:</strong> {movie.status || 'N/A'}</p>\r\n              <p><strong>Tagline:</strong> {movie.tagline || 'N/A'}</p>\r\n            </div>\r\n\r\n            <div className=\"reviews-section\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Reviews</h2>\r\n              <form onSubmit={handleSubmitReview} style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={reviewName}\r\n                  onChange={(e) => setReviewName(e.target.value)}\r\n                  placeholder=\"Your Name\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  aria-label=\"Your name for review\"\r\n                />\r\n                <input\r\n                  type=\"email\"\r\n                  value={reviewEmail}\r\n                  onChange={(e) => setReviewEmail(e.target.value)}\r\n                  placeholder=\"Your Email\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  aria-label=\"Your email for review\"\r\n                />\r\n                <textarea\r\n                  value={reviewText}\r\n                  onChange={(e) => setReviewText(e.target.value)}\r\n                  placeholder=\"Write your review...\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc', minHeight: '100px', resize: 'vertical' }}\r\n                  aria-label=\"Your review text\"\r\n                ></textarea>\r\n                <button type=\"submit\" className=\"cta-button\" style={{ padding: '10px 20px', fontSize: '1rem' }} aria-label=\"Submit review\">\r\n                  Submit Review\r\n                </button>\r\n              </form>\r\n              {error && <p style={{ color: 'red', fontSize: '1rem', marginBottom: '10px' }}>{error}</p>}\r\n              {reviews.length > 0 ? (\r\n                reviews.map((review) => (\r\n                  <div key={review._id} className=\"review\" style={{ marginBottom: '20px', padding: '10px', border: '1px solid #eee', borderRadius: '4px' }}>\r\n                    <p style={{ fontSize: '1rem', fontWeight: 'bold', marginBottom: '5px' }}>{review.name}</p>\r\n                    <p style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>{formatTimestamp(review.createdAt)}</p>\r\n                    <p style={{ fontSize: '1rem', marginBottom: '10px' }}>{review.text}</p>\r\n                    {review.replies && review.replies.length > 0 && (\r\n                      <div className=\"replies\" style={{ marginLeft: '20px', paddingLeft: '10px', borderLeft: '2px solid #eee' }}>\r\n                        {review.replies.map((reply) => (\r\n                          <div key={reply._id} style={{ marginBottom: '10px' }}>\r\n                            <p style={{ fontSize: '0.9rem', fontWeight: 'bold', marginBottom: '5px' }}>{reply.name}</p>\r\n                            <p style={{ fontSize: '0.8rem', color: '#666', marginBottom: '5px' }}>{formatTimestamp(reply.createdAt)}</p>\r\n                            <p style={{ fontSize: '0.9rem' }}>{reply.text}</p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                    {!replyingTo || replyingTo !== review._id ? (\r\n                      <button\r\n                        className=\"cta-button\"\r\n                        onClick={() => setReplyingTo(review._id)}\r\n                        style={{ padding: '8px 12px', fontSize: '0.9rem', marginTop: '10px' }}\r\n                        aria-label={`Reply to ${review.name}'s review`}\r\n                      >\r\n                        Reply\r\n                      </button>\r\n                    ) : (\r\n                      <form onSubmit={() => handleReply(review._id)} style={{ marginTop: '10px', display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={replyName}\r\n                          onChange={(e) => setReplyName(e.target.value)}\r\n                          placeholder=\"Your Name\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                          aria-label=\"Your name for reply\"\r\n                        />\r\n                        <input\r\n                          type=\"email\"\r\n                          value={replyEmail}\r\n                          onChange={(e) => setReplyEmail(e.target.value)}\r\n                          placeholder=\"Your Email\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                          aria-label=\"Your email for reply\"\r\n                        />\r\n                        <textarea\r\n                          value={replyText}\r\n                          onChange={(e) => setReplyText(e.target.value)}\r\n                          placeholder=\"Write your reply...\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc', minHeight: '80px', resize: 'vertical' }}\r\n                          aria-label=\"Your reply text\"\r\n                        ></textarea>\r\n                        <div style={{ display: 'flex', gap: '10px' }}>\r\n                          <button type=\"submit\" className=\"cta-button\" style={{ padding: '8px 12px', fontSize: '0.9rem' }} aria-label=\"Submit reply\">\r\n                            Submit Reply\r\n                          </button>\r\n                          <button\r\n                            className=\"cta-button\"\r\n                            onClick={() => setReplyingTo(null)}\r\n                            style={{ padding: '8px 12px', fontSize: '0.9rem', background: '#ccc' }}\r\n                            aria-label=\"Cancel reply\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      </form>\r\n                    )}\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p style={{ fontSize: '1rem' }}>No reviews yet. Be the first to share your thoughts!</p>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}