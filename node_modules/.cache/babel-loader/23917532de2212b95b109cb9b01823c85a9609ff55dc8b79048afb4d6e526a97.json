{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\new\\\\project\\\\frontend\\\\src\\\\components\\\\MovieDetails.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport LazyLoad from 'react-lazyload';\nimport { getMovieDetails, getReviews, submitReview, submitReply, fetchTmdbTrailer } from '../api/api';\nimport '../styles.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatTimestamp = date => {\n  const now = new Date();\n  const diffMs = now - new Date(date);\n  const diffSeconds = Math.floor(diffMs / 1000);\n  const diffMinutes = Math.floor(diffSeconds / 60);\n  const diffHours = Math.floor(diffMinutes / 60);\n  const diffDays = Math.floor(diffHours / 24);\n  if (diffDays > 0) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\n  if (diffHours > 0) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\n  if (diffMinutes > 0) return `${diffMinutes} minute${diffMinutes > 1 ? 's' : ''} ago`;\n  return 'Just now';\n};\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\nfunction MovieDetails() {\n  _s();\n  var _movie$watchProviders, _movie$watchProviders2, _movie$watchProviders3, _movie$cast, _movie$productionComp;\n  const {\n    source,\n    externalId\n  } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [reviewText, setReviewText] = useState('');\n  const [reviewName, setReviewName] = useState('');\n  const [reviewEmail, setReviewEmail] = useState('');\n  const [reviewRating, setReviewRating] = useState('');\n  const [watchlist, setWatchlist] = useState(JSON.parse(localStorage.getItem('watchlist')) || []);\n  const [replyingTo, setReplyingTo] = useState(null);\n  const [replyText, setReplyText] = useState('');\n  const [replyName, setReplyName] = useState('');\n  const [replyEmail, setReplyEmail] = useState('');\n  const [userReactions, setUserReactions] = useState(JSON.parse(localStorage.getItem('userReactions')) || {});\n  const [reactionError, setReactionError] = useState(null);\n  const userId = localStorage.getItem('tempUserId') || (() => {\n    const id = 'user_' + Math.random().toString(36).substr(2, 9);\n    localStorage.setItem('tempUserId', id);\n    return id;\n  })();\n  useEffect(() => {\n    let isMounted = true;\n    console.log('useEffect ran for', {\n      source,\n      externalId\n    });\n    const fetchData = async () => {\n      try {\n        var _movieResponse$data;\n        console.log('Fetching movie details and reviews for:', {\n          source,\n          externalId\n        });\n        const [movieResponse, reviewsResponse] = await Promise.all([getMovieDetails(source, externalId), getReviews(source, externalId)]);\n        if (!isMounted) return;\n        if (!((_movieResponse$data = movieResponse.data) !== null && _movieResponse$data !== void 0 && _movieResponse$data.externalId)) {\n          throw new Error('Invalid movie data received');\n        }\n        let movieData = movieResponse.data;\n        console.log('Original movieData:', movieData);\n\n        // Fetch trailer from TMDb if missing\n        if (!movieData.trailer || movieData.trailer === 'N/A') {\n          console.log('Fetching trailer from TMDb for externalId', externalId);\n          const tmdbTrailer = await fetchTmdbTrailer(externalId);\n          if (tmdbTrailer) {\n            movieData = {\n              ...movieData,\n              trailer: tmdbTrailer\n            };\n            console.log('Fetched trailer:', tmdbTrailer);\n          } else {\n            console.log('No trailer found from TMDb for externalId', externalId);\n            movieData = {\n              ...movieData,\n              trailer: null\n            }; // Explicitly set to null if no trailer\n          }\n        }\n\n        // Apply fallback screenshots if missing\n        if (!movieData.screenshots || movieData.screenshots.length === 0) {\n          console.log('Applying fallback screenshots for externalId', externalId);\n          movieData = {\n            ...movieData,\n            screenshots: ['https://placehold.co/200x300?text=Screenshot1', 'https://placehold.co/200x300?text=Screenshot2']\n          };\n        }\n        console.log('Processed Movie Details Response:', movieData);\n        setMovie(movieData);\n        setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\n        setError(null);\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error('Data loading error:', {\n          message: err.message,\n          response: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data,\n          status: (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status\n        });\n        if (isMounted) {\n          var _err$response3, _err$response3$data;\n          setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.msg) || 'Failed to load movie details');\n        }\n      } finally {\n        if (isMounted) setLoading(false);\n      }\n    };\n    fetchData();\n    return () => {\n      isMounted = false;\n    };\n  }, [source, externalId]);\n  const handleAddToWatchlist = movie => {\n    if (!movie.source || !movie.externalId || movie.externalId === 'undefined') {\n      console.warn('Cannot add movie to watchlist, invalid data:', movie);\n      return;\n    }\n    const newWatchlist = [...watchlist, {\n      ...movie,\n      source: movie.source,\n      externalId: movie.externalId\n    }];\n    setWatchlist(newWatchlist);\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\n  };\n  const handleRemoveFromWatchlist = (externalId, source) => {\n    const newWatchlist = watchlist.filter(m => !(m.externalId === externalId && m.source === source));\n    setWatchlist(newWatchlist);\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\n  };\n  const handleImageError = (e, title) => {\n    console.log(`Image failed to load for ${title}: ${e.target.src}`);\n    e.target.src = 'https://placehold.co/300x450?text=No+Poster';\n  };\n  const handleSubmitReview = async e => {\n    e.preventDefault();\n    if (!reviewText.trim() || !reviewName.trim() || !reviewEmail.trim() || !reviewRating) {\n      setError('Please fill all fields (name, email, review, rating).');\n      return;\n    }\n    if (!emailRegex.test(reviewEmail)) {\n      setError('Please enter a valid email address (e.g., user@example.com).');\n      return;\n    }\n    try {\n      await submitReview(source, externalId, {\n        text: reviewText,\n        name: reviewName,\n        email: reviewEmail,\n        rating: parseInt(reviewRating)\n      });\n      const reviewsResponse = await getReviews(source, externalId);\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\n      setReviewText('');\n      setReviewName('');\n      setReviewEmail('');\n      setReviewRating('');\n      setError(null);\n    } catch (err) {\n      var _err$response4, _err$response4$data, _err$response5;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.msg) || 'Failed to submit review. Check console for details.');\n      console.error('Submit review error:', ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.data) || err);\n    }\n  };\n  const handleReply = async reviewId => {\n    if (!replyText.trim() || !replyName.trim() || !replyEmail.trim()) {\n      setError('Please fill all fields (name, email, reply).');\n      return;\n    }\n    if (!emailRegex.test(replyEmail)) {\n      setError('Please enter a valid email address (e.g., user@example.com).');\n      return;\n    }\n    try {\n      await submitReply(source, externalId, reviewId, {\n        text: replyText,\n        name: replyName,\n        email: replyEmail\n      });\n      const reviewsResponse = await getReviews(source, externalId);\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\n      setReplyText('');\n      setReplyName('');\n      setReplyEmail('');\n      setReplyingTo(null);\n      setError(null);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.msg) || 'Failed to submit reply. Check console for details.');\n    }\n  };\n  const handleReaction = async reaction => {\n    if (userReactions[externalId]) {\n      console.log(`User ${userId} has already reacted with ${userReactions[externalId]} to ${externalId}`);\n      return;\n    }\n    try {\n      setReactionError(null); // Clear previous error\n      const response = await fetch(`/api/movies/reactions/${source}/${externalId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          reaction,\n          userId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setReactionError(errorData.msg || 'Failed to submit reaction. Please try again later.');\n        console.error('Reaction error:', errorData.msg);\n        return;\n      }\n      const data = await response.json();\n      console.log('Reaction response:', data);\n      const newUserReactions = {\n        ...userReactions,\n        [externalId]: reaction\n      };\n      setUserReactions(newUserReactions);\n      localStorage.setItem('userReactions', JSON.stringify(newUserReactions));\n    } catch (err) {\n      console.error('Reaction error:', err);\n      setReactionError('Failed to submit reaction due to a server error. Please try again later.');\n    }\n  };\n  const totalUserRating = reviews.length > 0 ? (reviews.reduce((sum, review) => sum + (review.rating || 0), 0) / reviews.length).toFixed(1) : 'N/A';\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\",\n        style: {\n          border: '4px solid #f3f3f3',\n          borderTop: '4px solid #3498db',\n          borderRadius: '50%',\n          width: '40px',\n          height: '40px',\n          animation: 'spin 1s linear infinite',\n          margin: '0 auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1rem',\n          marginTop: '10px'\n        },\n        children: \"Loading movie details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: '@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && !movie) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-screen\",\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: '1.5rem',\n          marginBottom: '10px'\n        },\n        children: \"Oops! Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1rem'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"home-link\",\n        style: {\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cta-button\",\n          style: {\n            padding: '8px 16px',\n            fontSize: '1rem',\n            marginTop: '10px'\n          },\n          children: \"Return to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-details fade-in\",\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto',\n      boxSizing: 'border-box'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: movie !== null && movie !== void 0 && movie.title ? `${movie.title} - MovieVerse` : 'Movie Details - MovieVerse'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: (movie === null || movie === void 0 ? void 0 : movie.overview) || 'View movie details on MovieVerse'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"details-header\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '10px 20px',\n        width: '100%',\n        boxSizing: 'border-box'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"home-link\",\n        style: {\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"logo\",\n          style: {\n            fontSize: '2em',\n            fontWeight: 'bold',\n            color: '#ff0000',\n            margin: '10px 0',\n            cursor: 'pointer',\n            transition: 'font-size 0.3s ease'\n          },\n          \"aria-label\": \"Go to homepage\",\n          children: \"MovieVerse 2.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-content\",\n      style: {\n        marginTop: '20px'\n      },\n      children: movie && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: 600,\n            color: '#333',\n            margin: '20px 0',\n            textAlign: 'center',\n            transition: 'font-size 0.3s ease'\n          },\n          children: movie.title || 'Untitled Movie'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movie-poster\",\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            margin: '20px 0'\n          },\n          children: /*#__PURE__*/_jsxDEV(LazyLoad, {\n            height: 450,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: movie.poster || 'https://placehold.co/300x450?text=No+Poster',\n              alt: movie.title || 'Movie Poster',\n              onError: e => handleImageError(e, movie.title || 'Unknown'),\n              style: {\n                width: '100%',\n                maxWidth: '300px',\n                height: 'auto',\n                borderRadius: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), movie.screenshots && movie.screenshots.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-section\",\n          style: {\n            margin: '20px 0'\n          },\n          children: [console.log('Screenshots data:', movie.screenshots), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.8rem',\n              fontWeight: 600,\n              color: '#333',\n              margin: '20px 0',\n              transition: 'font-size 0.3s ease'\n            },\n            children: \"Screenshots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-grid horizontal-scroll\",\n            style: {\n              display: 'flex',\n              overflowX: 'auto',\n              gap: '10px',\n              paddingBottom: '10px'\n            },\n            children: movie.screenshots.map((screenshot, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"movie-card\",\n              style: {\n                flex: '0 0 auto'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-poster\",\n                children: /*#__PURE__*/_jsxDEV(LazyLoad, {\n                  height: 300,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: screenshot || 'https://placehold.co/200x300?text=No+Screenshot',\n                    alt: `${movie.title} screenshot ${index + 1}`,\n                    onError: e => handleImageError(e, `${movie.title} screenshot ${index + 1}`),\n                    style: {\n                      width: '200px',\n                      height: '300px',\n                      objectFit: 'cover',\n                      borderRadius: '8px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '1rem',\n            textAlign: 'center',\n            color: '#666'\n          },\n          children: \"No screenshots available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }, this), movie.trailer && movie.trailer !== 'N/A' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"trailer-section\",\n          style: {\n            margin: '20px 0',\n            textAlign: 'center'\n          },\n          children: [console.log('Trailer section rendered with URL:', movie.trailer), /*#__PURE__*/_jsxDEV(\"iframe\", {\n            width: \"100%\",\n            height: \"500\",\n            src: movie.trailer.replace('watch?v=', 'embed/') + '?autoplay=0',\n            title: `${movie.title} Trailer`,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true,\n            style: {\n              maxWidth: '800px',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: movie.trailer,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            style: {\n              color: '#1a73e8',\n              textDecoration: 'none',\n              marginTop: '10px',\n              display: 'inline-block'\n            },\n            children: \"Watch on YouTube\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"storyline\",\n          style: {\n            margin: '20px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.8rem',\n              fontWeight: 600,\n              color: '#333',\n              marginBottom: '10px',\n              transition: 'font-size 0.3s ease'\n            },\n            children: \"Storyline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1rem',\n              lineHeight: '1.5'\n            },\n            children: movie.overview || 'No storyline available.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"download-links\",\n          style: {\n            margin: '20px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.8rem',\n              fontWeight: 600,\n              color: '#333',\n              marginBottom: '10px',\n              transition: 'font-size 0.3s ease'\n            },\n            children: \"Watch Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), movie.directLink ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: '0'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                margin: '5px 0',\n                fontSize: '1rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: movie.directLink,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                style: {\n                  color: '#1a73e8',\n                  textDecoration: 'none'\n                },\n                children: \"Watch on Internet Archive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1rem'\n            },\n            children: \"No direct watch links available.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this), ((_movie$watchProviders = movie.watchProviders) === null || _movie$watchProviders === void 0 ? void 0 : (_movie$watchProviders2 = _movie$watchProviders.US) === null || _movie$watchProviders2 === void 0 ? void 0 : (_movie$watchProviders3 = _movie$watchProviders2.ads) === null || _movie$watchProviders3 === void 0 ? void 0 : _movie$watchProviders3.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"watch-free\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                fontSize: '1.2rem',\n                margin: '10px 0'\n              },\n              children: \"Watch for Free on:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                listStyle: 'none',\n                padding: '0'\n              },\n              children: movie.watchProviders.US.ads.map((provider, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                style: {\n                  margin: '5px 0',\n                  fontSize: '1rem'\n                },\n                children: provider.provider_name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions\",\n          style: {\n            margin: '20px 0',\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'center'\n          },\n          children: watchlist.some(m => m.externalId === movie.externalId && m.source === movie.source) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleRemoveFromWatchlist(movie.externalId, movie.source),\n            style: {\n              padding: '10px 20px',\n              fontSize: '1rem'\n            },\n            \"aria-label\": `Remove ${movie.title} from watchlist`,\n            children: \"Remove from Watchlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleAddToWatchlist(movie),\n            style: {\n              padding: '10px 20px',\n              fontSize: '1rem'\n            },\n            \"aria-label\": `Add ${movie.title} to watchlist`,\n            children: \"Add to Watchlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reactions\",\n          style: {\n            margin: '20px 0',\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'center',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleReaction('excellent'),\n            disabled: !!userReactions[externalId],\n            style: {\n              padding: '10px',\n              fontSize: '1rem',\n              background: userReactions[externalId] === 'excellent' ? '#ffd700' : '#4CAF50',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            \"aria-label\": \"React with excellent\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: '5px'\n              },\n              children: \"excellent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), \" \\uD83D\\uDC4D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleReaction('good'),\n            disabled: !!userReactions[externalId],\n            style: {\n              padding: '10px',\n              fontSize: '1rem',\n              background: userReactions[externalId] === 'good' ? '#ffd700' : '#2196F3',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            \"aria-label\": \"React with good\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: '5px'\n              },\n              children: \"good\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), \" \\uD83D\\uDE0A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleReaction('average'),\n            disabled: !!userReactions[externalId],\n            style: {\n              padding: '10px',\n              fontSize: '1rem',\n              background: userReactions[externalId] === 'average' ? '#ffd700' : '#ff9800',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            \"aria-label\": \"React with average\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: '5px'\n              },\n              children: \"average\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this), \" \\uD83D\\uDE10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => handleReaction('sad'),\n            disabled: !!userReactions[externalId],\n            style: {\n              padding: '10px',\n              fontSize: '1rem',\n              background: userReactions[externalId] === 'sad' ? '#ffd700' : '#f44336',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            \"aria-label\": \"React with sad\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: '5px'\n              },\n              children: \"sad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), \" \\uD83D\\uDE22\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), reactionError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red',\n            fontSize: '1rem',\n            textAlign: 'center',\n            margin: '10px 0'\n          },\n          children: reactionError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movie-info\",\n          style: {\n            margin: '20px 0',\n            fontSize: '1rem',\n            lineHeight: '1.5'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"IMDb Rating:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 18\n            }, this), \" \", movie.imdbRating || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Release Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 18\n            }, this), \" \", movie.releaseDate || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Genres:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 18\n            }, this), \" \", movie.genres || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Director:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 18\n            }, this), \" \", movie.director || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Cast:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 18\n            }, this), \" \", ((_movie$cast = movie.cast) === null || _movie$cast === void 0 ? void 0 : _movie$cast.join(', ')) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Runtime:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 18\n            }, this), \" \", movie.runtime || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Budget:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 18\n            }, this), \" \", movie.budget || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Revenue:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 18\n            }, this), \" \", movie.revenue || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Production Companies:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 18\n            }, this), \" \", ((_movie$productionComp = movie.productionCompanies) === null || _movie$productionComp === void 0 ? void 0 : _movie$productionComp.join(', ')) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Language:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 18\n            }, this), \" \", movie.language || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Country:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 18\n            }, this), \" \", movie.country || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 18\n            }, this), \" \", movie.status || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tagline:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 18\n            }, this), \" \", movie.tagline || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reviews-section\",\n          style: {\n            margin: '20px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.8rem',\n              fontWeight: 600,\n              color: '#333',\n              marginBottom: '10px',\n              transition: 'font-size 0.3s ease'\n            },\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), totalUserRating !== 'N/A' && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1.2rem',\n              fontWeight: 600,\n              color: '#333',\n              marginBottom: '10px'\n            },\n            children: [\"Total User Rating: \", totalUserRating, \"/10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmitReview,\n            style: {\n              marginBottom: '20px',\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: reviewName,\n              onChange: e => setReviewName(e.target.value),\n              placeholder: \"Your Name\",\n              style: {\n                padding: '8px',\n                fontSize: '1rem',\n                borderRadius: '4px',\n                border: '1px solid #ccc'\n              },\n              \"aria-label\": \"Your name for review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: reviewEmail,\n              onChange: e => setReviewEmail(e.target.value),\n              placeholder: \"Your Email\",\n              style: {\n                padding: '8px',\n                fontSize: '1rem',\n                borderRadius: '4px',\n                border: '1px solid #ccc'\n              },\n              \"aria-label\": \"Your email for review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: reviewText,\n              onChange: e => setReviewText(e.target.value),\n              placeholder: \"Write your review...\",\n              style: {\n                padding: '8px',\n                fontSize: '1rem',\n                borderRadius: '4px',\n                border: '1px solid #ccc',\n                minHeight: '100px',\n                resize: 'vertical'\n              },\n              \"aria-label\": \"Your review text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: reviewRating,\n              onChange: e => setReviewRating(e.target.value),\n              style: {\n                padding: '8px',\n                fontSize: '1rem',\n                borderRadius: '4px',\n                border: '1px solid #ccc'\n              },\n              \"aria-label\": \"Your rating (1-10)\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Rating (1-10)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), [...Array(10)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: i + 1,\n                children: i + 1\n              }, i + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"cta-button\",\n              style: {\n                padding: '10px 20px',\n                fontSize: '1rem'\n              },\n              \"aria-label\": \"Submit review\",\n              children: \"Submit Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red',\n              fontSize: '1rem',\n              marginBottom: '10px'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 25\n          }, this), reviews.length > 0 ? reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review\",\n            style: {\n              marginBottom: '20px',\n              padding: '10px',\n              border: '1px solid #eee',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '1rem',\n                fontWeight: 'bold',\n                marginBottom: '5px'\n              },\n              children: review.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: '#666',\n                marginBottom: '5px'\n              },\n              children: formatTimestamp(review.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 21\n            }, this), review.rating && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '1rem',\n                marginBottom: '5px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 76\n              }, this), \" \", review.rating, \"/10\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '1rem',\n                marginBottom: '10px'\n              },\n              children: review.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 21\n            }, this), review.replies && review.replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"replies\",\n              style: {\n                marginLeft: '20px',\n                paddingLeft: '10px',\n                borderLeft: '2px solid #eee'\n              },\n              children: review.replies.map(reply => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.9rem',\n                    fontWeight: 'bold',\n                    marginBottom: '5px'\n                  },\n                  children: reply.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.8rem',\n                    color: '#666',\n                    marginBottom: '5px'\n                  },\n                  children: formatTimestamp(reply.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.9rem'\n                  },\n                  children: reply.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 29\n                }, this)]\n              }, reply._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 23\n            }, this), !replyingTo || replyingTo !== review._id ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cta-button\",\n              onClick: () => setReplyingTo(review._id),\n              style: {\n                padding: '8px 12px',\n                fontSize: '0.9rem',\n                marginTop: '10px'\n              },\n              \"aria-label\": `Reply to ${review.name}'s review`,\n              children: \"Reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: () => handleReply(review._id),\n              style: {\n                marginTop: '10px',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: replyName,\n                onChange: e => setReplyName(e.target.value),\n                placeholder: \"Your Name\",\n                style: {\n                  padding: '8px',\n                  fontSize: '0.9rem',\n                  borderRadius: '4px',\n                  border: '1px solid #ccc'\n                },\n                \"aria-label\": \"Your name for reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: replyEmail,\n                onChange: e => setReplyEmail(e.target.value),\n                placeholder: \"Your Email\",\n                style: {\n                  padding: '8px',\n                  fontSize: '0.9rem',\n                  borderRadius: '4px',\n                  border: '1px solid #ccc'\n                },\n                \"aria-label\": \"Your email for reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: replyText,\n                onChange: e => setReplyText(e.target.value),\n                placeholder: \"Write your reply...\",\n                style: {\n                  padding: '8px',\n                  fontSize: '0.9rem',\n                  borderRadius: '4px',\n                  border: '1px solid #ccc',\n                  minHeight: '80px',\n                  resize: 'vertical'\n                },\n                \"aria-label\": \"Your reply text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"cta-button\",\n                  style: {\n                    padding: '8px 12px',\n                    fontSize: '0.9rem'\n                  },\n                  \"aria-label\": \"Submit reply\",\n                  children: \"Submit Reply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"cta-button\",\n                  onClick: () => setReplyingTo(null),\n                  style: {\n                    padding: '8px 12px',\n                    fontSize: '0.9rem',\n                    background: '#ccc'\n                  },\n                  \"aria-label\": \"Cancel reply\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 23\n            }, this)]\n          }, review._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1rem'\n            },\n            children: \"No reviews yet. Be the first to share your thoughts!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieDetails, \"HP6F+Lm1+fYBTA2i7uJgbNjqGMU=\", false, function () {\n  return [useParams];\n});\n_c = MovieDetails;\nexport default MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["useState","useEffect","useParams","Link","Helmet","LazyLoad","getMovieDetails","getReviews","submitReview","submitReply","fetchTmdbTrailer","jsxDEV","_jsxDEV","Fragment","_Fragment","formatTimestamp","date","now","Date","diffMs","diffSeconds","Math","floor","diffMinutes","diffHours","diffDays","emailRegex","MovieDetails","_s","_movie$watchProviders","_movie$watchProviders2","_movie$watchProviders3","_movie$cast","_movie$productionComp","source","externalId","movie","setMovie","reviews","setReviews","error","setError","loading","setLoading","reviewText","setReviewText","reviewName","setReviewName","reviewEmail","setReviewEmail","reviewRating","setReviewRating","watchlist","setWatchlist","JSON","parse","localStorage","getItem","replyingTo","setReplyingTo","replyText","setReplyText","replyName","setReplyName","replyEmail","setReplyEmail","userReactions","setUserReactions","reactionError","setReactionError","userId","id","random","toString","substr","setItem","isMounted","console","log","fetchData","_movieResponse$data","movieResponse","reviewsResponse","Promise","all","data","Error","movieData","trailer","tmdbTrailer","screenshots","length","Array","isArray","err","_err$response","_err$response2","message","response","status","_err$response3","_err$response3$data","msg","handleAddToWatchlist","warn","newWatchlist","stringify","handleRemoveFromWatchlist","filter","m","handleImageError","e","title","target","src","handleSubmitReview","preventDefault","trim","test","text","name","email","rating","parseInt","_err$response4","_err$response4$data","_err$response5","handleReply","reviewId","_err$response6","_err$response6$data","handleReaction","reaction","fetch","method","headers","body","ok","errorData","json","newUserReactions","totalUserRating","reduce","sum","review","toFixed","className","style","textAlign","padding","children","border","borderTop","borderRadius","width","height","animation","margin","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","marginTop","marginBottom","to","textDecoration","maxWidth","boxSizing","content","overview","display","justifyContent","alignItems","fontWeight","color","cursor","transition","poster","alt","onError","overflowX","gap","paddingBottom","map","screenshot","index","flex","objectFit","replace","frameBorder","allow","allowFullScreen","href","rel","lineHeight","directLink","listStyle","watchProviders","US","ads","provider","provider_name","some","onClick","flexWrap","disabled","background","marginRight","imdbRating","releaseDate","genres","director","cast","join","runtime","budget","revenue","productionCompanies","language","country","tagline","onSubmit","flexDirection","type","value","onChange","placeholder","minHeight","resize","_","i","createdAt","replies","marginLeft","paddingLeft","borderLeft","reply","_id","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/new/project/frontend/src/components/MovieDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet';\r\nimport LazyLoad from 'react-lazyload';\r\nimport { getMovieDetails, getReviews, submitReview, submitReply, fetchTmdbTrailer } from '../api/api';\r\nimport '../styles.css';\r\n\r\nconst formatTimestamp = (date) => {\r\n  const now = new Date();\r\n  const diffMs = now - new Date(date);\r\n  const diffSeconds = Math.floor(diffMs / 1000);\r\n  const diffMinutes = Math.floor(diffSeconds / 60);\r\n  const diffHours = Math.floor(diffMinutes / 60);\r\n  const diffDays = Math.floor(diffHours / 24);\r\n\r\n  if (diffDays > 0) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\r\n  if (diffHours > 0) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\r\n  if (diffMinutes > 0) return `${diffMinutes} minute${diffMinutes > 1 ? 's' : ''} ago`;\r\n  return 'Just now';\r\n};\r\n\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nfunction MovieDetails() {\r\n  const { source, externalId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [reviewText, setReviewText] = useState('');\r\n  const [reviewName, setReviewName] = useState('');\r\n  const [reviewEmail, setReviewEmail] = useState('');\r\n  const [reviewRating, setReviewRating] = useState('');\r\n  const [watchlist, setWatchlist] = useState(JSON.parse(localStorage.getItem('watchlist')) || []);\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  const [replyText, setReplyText] = useState('');\r\n  const [replyName, setReplyName] = useState('');\r\n  const [replyEmail, setReplyEmail] = useState('');\r\n  const [userReactions, setUserReactions] = useState(JSON.parse(localStorage.getItem('userReactions')) || {});\r\n  const [reactionError, setReactionError] = useState(null);\r\n\r\n  const userId = localStorage.getItem('tempUserId') || (() => {\r\n    const id = 'user_' + Math.random().toString(36).substr(2, 9);\r\n    localStorage.setItem('tempUserId', id);\r\n    return id;\r\n  })();\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    console.log('useEffect ran for', { source, externalId });\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        console.log('Fetching movie details and reviews for:', { source, externalId });\r\n        const [movieResponse, reviewsResponse] = await Promise.all([\r\n          getMovieDetails(source, externalId),\r\n          getReviews(source, externalId),\r\n        ]);\r\n\r\n        if (!isMounted) return;\r\n\r\n        if (!movieResponse.data?.externalId) {\r\n          throw new Error('Invalid movie data received');\r\n        }\r\n\r\n        let movieData = movieResponse.data;\r\n        console.log('Original movieData:', movieData);\r\n\r\n        // Fetch trailer from TMDb if missing\r\n        if (!movieData.trailer || movieData.trailer === 'N/A') {\r\n          console.log('Fetching trailer from TMDb for externalId', externalId);\r\n          const tmdbTrailer = await fetchTmdbTrailer(externalId);\r\n          if (tmdbTrailer) {\r\n            movieData = { ...movieData, trailer: tmdbTrailer };\r\n            console.log('Fetched trailer:', tmdbTrailer);\r\n          } else {\r\n            console.log('No trailer found from TMDb for externalId', externalId);\r\n            movieData = { ...movieData, trailer: null }; // Explicitly set to null if no trailer\r\n          }\r\n        }\r\n\r\n        // Apply fallback screenshots if missing\r\n        if (!movieData.screenshots || movieData.screenshots.length === 0) {\r\n          console.log('Applying fallback screenshots for externalId', externalId);\r\n          movieData = { ...movieData, screenshots: [\r\n            'https://placehold.co/200x300?text=Screenshot1',\r\n            'https://placehold.co/200x300?text=Screenshot2'\r\n          ] };\r\n        }\r\n\r\n        console.log('Processed Movie Details Response:', movieData);\r\n        setMovie(movieData);\r\n        setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Data loading error:', {\r\n          message: err.message,\r\n          response: err.response?.data,\r\n          status: err.response?.status,\r\n        });\r\n        if (isMounted) {\r\n          setError(err.response?.data?.msg || 'Failed to load movie details');\r\n        }\r\n      } finally {\r\n        if (isMounted) setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [source, externalId]);\r\n\r\n  const handleAddToWatchlist = (movie) => {\r\n    if (!movie.source || !movie.externalId || movie.externalId === 'undefined') {\r\n      console.warn('Cannot add movie to watchlist, invalid data:', movie);\r\n      return;\r\n    }\r\n    const newWatchlist = [...watchlist, { ...movie, source: movie.source, externalId: movie.externalId }];\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n  };\r\n\r\n  const handleRemoveFromWatchlist = (externalId, source) => {\r\n    const newWatchlist = watchlist.filter((m) => !(m.externalId === externalId && m.source === source));\r\n    setWatchlist(newWatchlist);\r\n    localStorage.setItem('watchlist', JSON.stringify(newWatchlist));\r\n  };\r\n\r\n  const handleImageError = (e, title) => {\r\n    console.log(`Image failed to load for ${title}: ${e.target.src}`);\r\n    e.target.src = 'https://placehold.co/300x450?text=No+Poster';\r\n  };\r\n\r\n  const handleSubmitReview = async (e) => {\r\n    e.preventDefault();\r\n    if (!reviewText.trim() || !reviewName.trim() || !reviewEmail.trim() || !reviewRating) {\r\n      setError('Please fill all fields (name, email, review, rating).');\r\n      return;\r\n    }\r\n    if (!emailRegex.test(reviewEmail)) {\r\n      setError('Please enter a valid email address (e.g., user@example.com).');\r\n      return;\r\n    }\r\n    try {\r\n      await submitReview(source, externalId, { text: reviewText, name: reviewName, email: reviewEmail, rating: parseInt(reviewRating) });\r\n      const reviewsResponse = await getReviews(source, externalId);\r\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n      setReviewText('');\r\n      setReviewName('');\r\n      setReviewEmail('');\r\n      setReviewRating('');\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to submit review. Check console for details.');\r\n      console.error('Submit review error:', err.response?.data || err);\r\n    }\r\n  };\r\n\r\n  const handleReply = async (reviewId) => {\r\n    if (!replyText.trim() || !replyName.trim() || !replyEmail.trim()) {\r\n      setError('Please fill all fields (name, email, reply).');\r\n      return;\r\n    }\r\n    if (!emailRegex.test(replyEmail)) {\r\n      setError('Please enter a valid email address (e.g., user@example.com).');\r\n      return;\r\n    }\r\n    try {\r\n      await submitReply(source, externalId, reviewId, { text: replyText, name: replyName, email: replyEmail });\r\n      const reviewsResponse = await getReviews(source, externalId);\r\n      setReviews(Array.isArray(reviewsResponse.data) ? reviewsResponse.data : []);\r\n      setReplyText('');\r\n      setReplyName('');\r\n      setReplyEmail('');\r\n      setReplyingTo(null);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to submit reply. Check console for details.');\r\n    }\r\n  };\r\n\r\n  const handleReaction = async (reaction) => {\r\n    if (userReactions[externalId]) {\r\n      console.log(`User ${userId} has already reacted with ${userReactions[externalId]} to ${externalId}`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setReactionError(null); // Clear previous error\r\n      const response = await fetch(`/api/movies/reactions/${source}/${externalId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ reaction, userId }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        setReactionError(errorData.msg || 'Failed to submit reaction. Please try again later.');\r\n        console.error('Reaction error:', errorData.msg);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Reaction response:', data);\r\n\r\n      const newUserReactions = { ...userReactions, [externalId]: reaction };\r\n      setUserReactions(newUserReactions);\r\n      localStorage.setItem('userReactions', JSON.stringify(newUserReactions));\r\n    } catch (err) {\r\n      console.error('Reaction error:', err);\r\n      setReactionError('Failed to submit reaction due to a server error. Please try again later.');\r\n    }\r\n  };\r\n\r\n  const totalUserRating = reviews.length > 0\r\n    ? (reviews.reduce((sum, review) => sum + (review.rating || 0), 0) / reviews.length).toFixed(1)\r\n    : 'N/A';\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-screen\" style={{ textAlign: 'center', padding: '20px' }}>\r\n        <div className=\"spinner\" style={{ border: '4px solid #f3f3f3', borderTop: '4px solid #3498db', borderRadius: '50%', width: '40px', height: '40px', animation: 'spin 1s linear infinite', margin: '0 auto' }}></div>\r\n        <p style={{ fontSize: '1rem', marginTop: '10px' }}>Loading movie details...</p>\r\n        <style>{'@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }'}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !movie) {\r\n    return (\r\n      <div className=\"error-screen\" style={{ textAlign: 'center', padding: '20px' }}>\r\n        <h2 style={{ fontSize: '1.5rem', marginBottom: '10px' }}>Oops! Something went wrong</h2>\r\n        <p style={{ fontSize: '1rem' }}>{error}</p>\r\n        <Link to=\"/\" className=\"home-link\" style={{ textDecoration: 'none' }}>\r\n          <button className=\"cta-button\" style={{ padding: '8px 16px', fontSize: '1rem', marginTop: '10px' }}>Return to Home</button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie-details fade-in\" style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto', boxSizing: 'border-box' }}>\r\n      <Helmet>\r\n        <title>{movie?.title ? `${movie.title} - MovieVerse` : 'Movie Details - MovieVerse'}</title>\r\n        <meta name=\"description\" content={movie?.overview || 'View movie details on MovieVerse'} />\r\n      </Helmet>\r\n\r\n      <header className=\"details-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px 20px', width: '100%', boxSizing: 'border-box' }}>\r\n        <Link to=\"/\" className=\"home-link\" style={{ textDecoration: 'none' }}>\r\n          <h1\r\n            className=\"logo\"\r\n            style={{\r\n              fontSize: '2em',\r\n              fontWeight: 'bold',\r\n              color: '#ff0000',\r\n              margin: '10px 0',\r\n              cursor: 'pointer',\r\n              transition: 'font-size 0.3s ease',\r\n            }}\r\n            aria-label=\"Go to homepage\"\r\n          >\r\n            MovieVerse 2.0\r\n          </h1>\r\n        </Link>\r\n      </header>\r\n\r\n      <div className=\"movie-content\" style={{ marginTop: '20px' }}>\r\n        {movie && (\r\n          <>\r\n            <h1 style={{ fontSize: '2rem', fontWeight: 600, color: '#333', margin: '20px 0', textAlign: 'center', transition: 'font-size 0.3s ease' }}>{movie.title || 'Untitled Movie'}</h1>\r\n            <div className=\"movie-poster\" style={{ display: 'flex', justifyContent: 'center', margin: '20px 0' }}>\r\n              <LazyLoad height={450}>\r\n                <img\r\n                  src={movie.poster || 'https://placehold.co/300x450?text=No+Poster'}\r\n                  alt={movie.title || 'Movie Poster'}\r\n                  onError={(e) => handleImageError(e, movie.title || 'Unknown')}\r\n                  style={{ width: '100%', maxWidth: '300px', height: 'auto', borderRadius: '8px' }}\r\n                />\r\n              </LazyLoad>\r\n            </div>\r\n\r\n            {movie.screenshots && movie.screenshots.length > 0 ? (\r\n              <div className=\"category-section\" style={{ margin: '20px 0' }}>\r\n                {console.log('Screenshots data:', movie.screenshots)}\r\n                <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', margin: '20px 0', transition: 'font-size 0.3s ease' }}>Screenshots</h2>\r\n                <div className=\"movie-grid horizontal-scroll\" style={{ display: 'flex', overflowX: 'auto', gap: '10px', paddingBottom: '10px' }}>\r\n                  {movie.screenshots.map((screenshot, index) => (\r\n                    <div key={index} className=\"movie-card\" style={{ flex: '0 0 auto' }}>\r\n                      <div className=\"movie-poster\">\r\n                        <LazyLoad height={300}>\r\n                          <img\r\n                            src={screenshot || 'https://placehold.co/200x300?text=No+Screenshot'}\r\n                            alt={`${movie.title} screenshot ${index + 1}`}\r\n                            onError={(e) => handleImageError(e, `${movie.title} screenshot ${index + 1}`)}\r\n                            style={{ width: '200px', height: '300px', objectFit: 'cover', borderRadius: '8px' }}\r\n                          />\r\n                        </LazyLoad>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p style={{ fontSize: '1rem', textAlign: 'center', color: '#666' }}>No screenshots available.</p>\r\n            )}\r\n\r\n            {movie.trailer && movie.trailer !== 'N/A' && (\r\n              <div className=\"trailer-section\" style={{ margin: '20px 0', textAlign: 'center' }}>\r\n                {console.log('Trailer section rendered with URL:', movie.trailer)}\r\n                <iframe\r\n                  width=\"100%\"\r\n                  height=\"500\"\r\n                  src={movie.trailer.replace('watch?v=', 'embed/') + '?autoplay=0'}\r\n                  title={`${movie.title} Trailer`}\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                  style={{ maxWidth: '800px', borderRadius: '8px' }}\r\n                ></iframe>\r\n                <a href={movie.trailer} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#1a73e8', textDecoration: 'none', marginTop: '10px', display: 'inline-block' }}>\r\n                  Watch on YouTube\r\n                </a>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"storyline\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Storyline</h2>\r\n              <p style={{ fontSize: '1rem', lineHeight: '1.5' }}>{movie.overview || 'No storyline available.'}</p>\r\n            </div>\r\n\r\n            <div className=\"download-links\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Watch Options</h2>\r\n              {movie.directLink ? (\r\n                <ul style={{ listStyle: 'none', padding: '0' }}>\r\n                  <li style={{ margin: '5px 0', fontSize: '1rem' }}>\r\n                    <a href={movie.directLink} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#1a73e8', textDecoration: 'none' }}>\r\n                      Watch on Internet Archive\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              ) : (\r\n                <p style={{ fontSize: '1rem' }}>No direct watch links available.</p>\r\n              )}\r\n              {movie.watchProviders?.US?.ads?.length > 0 && (\r\n                <div className=\"watch-free\">\r\n                  <h4 style={{ fontSize: '1.2rem', margin: '10px 0' }}>Watch for Free on:</h4>\r\n                  <ul style={{ listStyle: 'none', padding: '0' }}>\r\n                    {movie.watchProviders.US.ads.map((provider, index) => (\r\n                      <li key={index} style={{ margin: '5px 0', fontSize: '1rem' }}>{provider.provider_name}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"actions\" style={{ margin: '20px 0', display: 'flex', gap: '10px', justifyContent: 'center' }}>\r\n              {watchlist.some((m) => m.externalId === movie.externalId && m.source === movie.source) ? (\r\n                <button\r\n                  className=\"cta-button\"\r\n                  onClick={() => handleRemoveFromWatchlist(movie.externalId, movie.source)}\r\n                  style={{ padding: '10px 20px', fontSize: '1rem' }}\r\n                  aria-label={`Remove ${movie.title} from watchlist`}\r\n                >\r\n                  Remove from Watchlist\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"cta-button\"\r\n                  onClick={() => handleAddToWatchlist(movie)}\r\n                  style={{ padding: '10px 20px', fontSize: '1rem' }}\r\n                  aria-label={`Add ${movie.title} to watchlist`}\r\n                >\r\n                  Add to Watchlist\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"reactions\" style={{ margin: '20px 0', display: 'flex', gap: '10px', justifyContent: 'center', flexWrap: 'wrap' }}>\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={() => handleReaction('excellent')}\r\n                disabled={!!userReactions[externalId]}\r\n                style={{ padding: '10px', fontSize: '1rem', background: userReactions[externalId] === 'excellent' ? '#ffd700' : '#4CAF50', display: 'flex', alignItems: 'center' }}\r\n                aria-label=\"React with excellent\"\r\n              >\r\n                <span style={{ marginRight: '5px' }}>excellent</span> 👍\r\n              </button>\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={() => handleReaction('good')}\r\n                disabled={!!userReactions[externalId]}\r\n                style={{ padding: '10px', fontSize: '1rem', background: userReactions[externalId] === 'good' ? '#ffd700' : '#2196F3', display: 'flex', alignItems: 'center' }}\r\n                aria-label=\"React with good\"\r\n              >\r\n                <span style={{ marginRight: '5px' }}>good</span> 😊\r\n              </button>\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={() => handleReaction('average')}\r\n                disabled={!!userReactions[externalId]}\r\n                style={{ padding: '10px', fontSize: '1rem', background: userReactions[externalId] === 'average' ? '#ffd700' : '#ff9800', display: 'flex', alignItems: 'center' }}\r\n                aria-label=\"React with average\"\r\n              >\r\n                <span style={{ marginRight: '5px' }}>average</span> 😐\r\n              </button>\r\n              <button\r\n                className=\"cta-button\"\r\n                onClick={() => handleReaction('sad')}\r\n                disabled={!!userReactions[externalId]}\r\n                style={{ padding: '10px', fontSize: '1rem', background: userReactions[externalId] === 'sad' ? '#ffd700' : '#f44336', display: 'flex', alignItems: 'center' }}\r\n                aria-label=\"React with sad\"\r\n              >\r\n                <span style={{ marginRight: '5px' }}>sad</span> 😢\r\n              </button>\r\n            </div>\r\n            {reactionError && (\r\n              <p style={{ color: 'red', fontSize: '1rem', textAlign: 'center', margin: '10px 0' }}>{reactionError}</p>\r\n            )}\r\n\r\n            <div className=\"movie-info\" style={{ margin: '20px 0', fontSize: '1rem', lineHeight: '1.5' }}>\r\n              <p><strong>IMDb Rating:</strong> {movie.imdbRating || 'N/A'}</p>\r\n              <p><strong>Release Date:</strong> {movie.releaseDate || 'N/A'}</p>\r\n              <p><strong>Genres:</strong> {movie.genres || 'N/A'}</p>\r\n              <p><strong>Director:</strong> {movie.director || 'N/A'}</p>\r\n              <p><strong>Cast:</strong> {movie.cast?.join(', ') || 'N/A'}</p>\r\n              <p><strong>Runtime:</strong> {movie.runtime || 'N/A'}</p>\r\n              <p><strong>Budget:</strong> {movie.budget || 'N/A'}</p>\r\n              <p><strong>Revenue:</strong> {movie.revenue || 'N/A'}</p>\r\n              <p><strong>Production Companies:</strong> {movie.productionCompanies?.join(', ') || 'N/A'}</p>\r\n              <p><strong>Language:</strong> {movie.language || 'N/A'}</p>\r\n              <p><strong>Country:</strong> {movie.country || 'N/A'}</p>\r\n              <p><strong>Status:</strong> {movie.status || 'N/A'}</p>\r\n              <p><strong>Tagline:</strong> {movie.tagline || 'N/A'}</p>\r\n            </div>\r\n\r\n            <div className=\"reviews-section\" style={{ margin: '20px 0' }}>\r\n              <h2 style={{ fontSize: '1.8rem', fontWeight: 600, color: '#333', marginBottom: '10px', transition: 'font-size 0.3s ease' }}>Reviews</h2>\r\n              {totalUserRating !== 'N/A' && (\r\n                <p style={{ fontSize: '1.2rem', fontWeight: 600, color: '#333', marginBottom: '10px' }}>\r\n                  Total User Rating: {totalUserRating}/10\r\n                </p>\r\n              )}\r\n              <form onSubmit={handleSubmitReview} style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={reviewName}\r\n                  onChange={(e) => setReviewName(e.target.value)}\r\n                  placeholder=\"Your Name\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  aria-label=\"Your name for review\"\r\n                />\r\n                <input\r\n                  type=\"email\"\r\n                  value={reviewEmail}\r\n                  onChange={(e) => setReviewEmail(e.target.value)}\r\n                  placeholder=\"Your Email\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  aria-label=\"Your email for review\"\r\n                />\r\n                <textarea\r\n                  value={reviewText}\r\n                  onChange={(e) => setReviewText(e.target.value)}\r\n                  placeholder=\"Write your review...\"\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc', minHeight: '100px', resize: 'vertical' }}\r\n                  aria-label=\"Your review text\"\r\n                ></textarea>\r\n                <select\r\n                  value={reviewRating}\r\n                  onChange={(e) => setReviewRating(e.target.value)}\r\n                  style={{ padding: '8px', fontSize: '1rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  aria-label=\"Your rating (1-10)\"\r\n                >\r\n                  <option value=\"\">Select Rating (1-10)</option>\r\n                  {[...Array(10)].map((_, i) => (\r\n                    <option key={i + 1} value={i + 1}>{i + 1}</option>\r\n                  ))}\r\n                </select>\r\n                <button type=\"submit\" className=\"cta-button\" style={{ padding: '10px 20px', fontSize: '1rem' }} aria-label=\"Submit review\">\r\n                  Submit Review\r\n                </button>\r\n              </form>\r\n              {error && <p style={{ color: 'red', fontSize: '1rem', marginBottom: '10px' }}>{error}</p>}\r\n              {reviews.length > 0 ? (\r\n                reviews.map((review) => (\r\n                  <div key={review._id} className=\"review\" style={{ marginBottom: '20px', padding: '10px', border: '1px solid #eee', borderRadius: '4px' }}>\r\n                    <p style={{ fontSize: '1rem', fontWeight: 'bold', marginBottom: '5px' }}>{review.name}</p>\r\n                    <p style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>{formatTimestamp(review.createdAt)}</p>\r\n                    {review.rating && (\r\n                      <p style={{ fontSize: '1rem', marginBottom: '5px' }}><strong>Rating:</strong> {review.rating}/10</p>\r\n                    )}\r\n                    <p style={{ fontSize: '1rem', marginBottom: '10px' }}>{review.text}</p>\r\n                    {review.replies && review.replies.length > 0 && (\r\n                      <div className=\"replies\" style={{ marginLeft: '20px', paddingLeft: '10px', borderLeft: '2px solid #eee' }}>\r\n                        {review.replies.map((reply) => (\r\n                          <div key={reply._id} style={{ marginBottom: '10px' }}>\r\n                            <p style={{ fontSize: '0.9rem', fontWeight: 'bold', marginBottom: '5px' }}>{reply.name}</p>\r\n                            <p style={{ fontSize: '0.8rem', color: '#666', marginBottom: '5px' }}>{formatTimestamp(reply.createdAt)}</p>\r\n                            <p style={{ fontSize: '0.9rem' }}>{reply.text}</p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                    {!replyingTo || replyingTo !== review._id ? (\r\n                      <button\r\n                        className=\"cta-button\"\r\n                        onClick={() => setReplyingTo(review._id)}\r\n                        style={{ padding: '8px 12px', fontSize: '0.9rem', marginTop: '10px' }}\r\n                        aria-label={`Reply to ${review.name}'s review`}\r\n                      >\r\n                        Reply\r\n                      </button>\r\n                    ) : (\r\n                      <form onSubmit={() => handleReply(review._id)} style={{ marginTop: '10px', display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={replyName}\r\n                          onChange={(e) => setReplyName(e.target.value)}\r\n                          placeholder=\"Your Name\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                          aria-label=\"Your name for reply\"\r\n                        />\r\n                        <input\r\n                          type=\"email\"\r\n                          value={replyEmail}\r\n                          onChange={(e) => setReplyEmail(e.target.value)}\r\n                          placeholder=\"Your Email\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                          aria-label=\"Your email for reply\"\r\n                        />\r\n                        <textarea\r\n                          value={replyText}\r\n                          onChange={(e) => setReplyText(e.target.value)}\r\n                          placeholder=\"Write your reply...\"\r\n                          style={{ padding: '8px', fontSize: '0.9rem', borderRadius: '4px', border: '1px solid #ccc', minHeight: '80px', resize: 'vertical' }}\r\n                          aria-label=\"Your reply text\"\r\n                        ></textarea>\r\n                        <div style={{ display: 'flex', gap: '10px' }}>\r\n                          <button type=\"submit\" className=\"cta-button\" style={{ padding: '8px 12px', fontSize: '0.9rem' }} aria-label=\"Submit reply\">\r\n                            Submit Reply\r\n                          </button>\r\n                          <button\r\n                            className=\"cta-button\"\r\n                            onClick={() => setReplyingTo(null)}\r\n                            style={{ padding: '8px 12px', fontSize: '0.9rem', background: '#ccc' }}\r\n                            aria-label=\"Cancel reply\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      </form>\r\n                    )}\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p style={{ fontSize: '1rem' }}>No reviews yet. Be the first to share your thoughts!</p>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}